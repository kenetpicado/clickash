import{_ as y}from"./AddButton-1bb4bdaf.js";import{_ as b}from"./Checkbox-32593df6.js";import{_ as u}from"./InputForm-b6e2c453.js";import{_ as U}from"./FormModal-22a0b3fc.js";import{T as I}from"./TableSection-75fc069c.js";import{T as $,r as v,e as C,o as m,k as R,g as f,a,c as p,f as w,F as L,d as V,u as l,b as n,t as x}from"./app-0f5d0684.js";import{t as d}from"./toast-a239a205.js";import{_ as M}from"./AppLayout-7786c86a.js";import{I as B}from"./IconPencil-679fe787.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconUsers-73c793db.js";import"./createVueComponent-32bd6799.js";function O(){const r=$({id:"",name:"",image:"",settings:{min:null,max:null,date:!1,super_x:!1,general_limit:null,individual_limit:null}});function g(i=null){r.post(route("dashboard.raffles.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Raffle created successfully"),i&&i()}})}function o(i=null){r.put(route("dashboard.raffles.update",r.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Raffle updated successfully"),i&&i()}})}return{form:r,store:g,update:o}}const T=n("span",{class:"title"}," Raffles ",-1),j=n("th",null,"ID",-1),A=n("th",null,"Nombre",-1),F=n("th",null,"Settings",-1),G=n("th",null,"Accciones",-1),q={class:"hover:bg-gray-50"},D={class:"flex gap-2 text-gray-400"},E={key:0},H=n("td",{colspan:"3",class:"text-center"},"No data to display",-1),P=[H],X={key:0,class:"grid grid-cols-2 gap-4"},z={class:"grid grid-cols-2 gap-4"},oe={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(r){const g=[{name:"Home",route:route("dashboard.raffles.index")},{name:"Raffles",route:route("dashboard.raffles.index")}],o=v(!1),i=v(!0),{store:h,update:k,form:e}=O();function N(c){Object.assign(e,c),o.value=!0,i.value=!1}C(()=>e.settings.date,c=>{c&&(e.settings.min=null,e.settings.max=null)});function S(){if(isNaN(e.settings.min)){d.error("Min must be a number");return}if(isNaN(e.settings.max)){d.error("Max must be a number");return}if(isNaN(e.settings.general_limit)){d.error("General Limit must be a number");return}if(isNaN(e.settings.individual_limit)){d.error("Individual Limit must be a number");return}i.value?h(_):k(_)}const _=()=>{e.reset(),o.value=!1,i.value=!0};return(c,s)=>(m(),R(M,{title:"Raffles",breads:g},{header:f(()=>[T,a(y,{onClick:s[0]||(s[0]=t=>o.value=!0)})]),default:f(()=>[a(I,null,{header:f(()=>[j,A,F,G]),body:f(()=>[(m(!0),p(L,null,w(r.raffles,(t,J)=>(m(),p("tr",q,[n("td",null,x(t.id),1),n("td",null,x(t.name),1),n("td",null,[n("pre",null,x(t.settings),1)]),n("td",null,[n("div",D,[a(l(B),{role:"button",onClick:K=>N(t)},null,8,["onClick"])])])]))),256)),r.raffles.length==0?(m(),p("tr",E,P)):V("",!0)]),_:1}),a(U,{show:o.value,title:"Add",onOnCancel:_,onOnSubmit:S},{default:f(()=>[a(u,{text:"Name",modelValue:l(e).name,"onUpdate:modelValue":s[1]||(s[1]=t=>l(e).name=t)},null,8,["modelValue"]),a(u,{text:"Image",modelValue:l(e).image,"onUpdate:modelValue":s[2]||(s[2]=t=>l(e).image=t),type:"url"},null,8,["modelValue"]),a(b,{checked:l(e).settings.super_x,"onUpdate:checked":s[3]||(s[3]=t=>l(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),a(b,{checked:l(e).settings.date,"onUpdate:checked":s[4]||(s[4]=t=>l(e).settings.date=t),text:"Date"},null,8,["checked"]),l(e).settings.date?V("",!0):(m(),p("div",X,[a(u,{text:"Min",modelValue:l(e).settings.min,"onUpdate:modelValue":s[5]||(s[5]=t=>l(e).settings.min=t)},null,8,["modelValue"]),a(u,{text:"Max",modelValue:l(e).settings.max,"onUpdate:modelValue":s[6]||(s[6]=t=>l(e).settings.max=t)},null,8,["modelValue"])])),n("div",z,[a(u,{text:"General Limit",modelValue:l(e).settings.general_limit,"onUpdate:modelValue":s[7]||(s[7]=t=>l(e).settings.general_limit=t)},null,8,["modelValue"]),a(u,{text:"Individual Limit",modelValue:l(e).settings.individual_limit,"onUpdate:modelValue":s[8]||(s[8]=t=>l(e).settings.individual_limit=t)},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{oe as default};
