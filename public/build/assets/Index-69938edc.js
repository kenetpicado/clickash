import{T as B,r as b,j as E,o as p,c as f,d as l,F as k,l as j,t as w,b as s,f as h,u as t,e as O,k as z}from"./app-122945be.js";import{t as g}from"./toast-16cb0d70.js";import{c as A,I as U}from"./helpers-67f99cdb.js";import{_ as L}from"./FormModal-da0ba5f7.js";import{_}from"./InputForm-48634172.js";import{_ as m,a as T}from"./DropdownItem-ca908a48.js";import{I as F,a as R,b as V}from"./IconReportAnalytics-5e9f91eb.js";import{c as x}from"./IconUser-ab1b88a0.js";import{I as D}from"./IconEdit-0c831121.js";import{_ as G}from"./ClientareaLayout-3c6b83a4.js";import"./Modal-fd36b0db.js";import"./IconList-918c48de.js";import"./use-resolve-button-type-8ccbf1fc.js";var H=x("box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]]),J=x("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),K=x("circle-off","IconCircleOff",[["path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);function P(){const o=B({id:"",name:"",email:" ",password:"",password_confirmation:""});function u(a=null){if(o.password!==o.password_confirmation){g.error("Las contraseñas no coinciden");return}o.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{g.success("Guardado correctamente"),a&&a()},onError:r=>{g.error(r.message)}})}function d(a=null){o.put(route("clientarea.sellers.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{g.success("Actualizado correctamente"),a&&a()}})}function i(a=null){o.put(route("clientarea.toggle-status",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{g.success("Actualizado correctamente"),a&&a()}})}function v(a){A({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{o.delete(route("clientarea.sellers.destroy",a),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{g.success("Eliminado correctamente")}})}})}return{form:o,store:u,update:d,destroy:v,toggleStatus:i}}const Q={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},W={class:"bg-gray-100 rounded-lg p-2 w-full"},X={class:"flex gap-2 w-full"},Y=l("div",{class:"rounded-lg w-1/3 px-1"},[l("img",{src:"/images/inbox-pana.svg",alt:"",class:"w-20 h-20 object-contain rounded-lg"})],-1),Z={class:"text-xs w-full h-full"},ee={class:"flex justify-between w-full"},te={class:""},se={class:"px-1 py-1"},re={class:"px-1 py-1"},le={class:"flex flex-col mb-1"},oe={class:"text-base flex items-center gap-1 mb-1"},ae={key:0},ne={key:1},ie={class:"text-gray-500"},ce={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(o){const u=o,d=b(!1),i=b(!0),{store:v,update:a,form:r,toggleStatus:S,destroy:I}=P(),N=n=>{r.id=n,S()},$=()=>{i.value?v(y):a(y)},y=()=>{r.reset(),i.value=!0,d.value=!1},q=n=>{i.value=!1,r.id=n.id,r.name=n.name,r.email=n.email,d.value=!0};E(()=>u.triggerNew,n=>{i.value=!0,d.value=!0});const M={enabled:"Bloquear",disabled:"Desbloquear"};return(n,c)=>(p(),f(k,null,[l("div",Q,[(p(!0),f(k,null,j(o.sellers,e=>(p(),f("div",W,[l("div",X,[Y,l("div",Z,[l("div",ee,[l("span",te,w(e.online),1),s(T,null,{default:h(()=>[l("div",se,[s(m,{href:n.route("clientarea.sellers.show",e.id),title:"Ventas",icon:t(F)},null,8,["href","icon"]),s(m,{href:n.route("clientarea.sellers.archings.index",e.id),title:"Caja",icon:t(H)},null,8,["href","icon"]),s(m,{href:n.route("clientarea.sellers.reports.index",e.id),title:"Reportes",icon:t(R)},null,8,["href","icon"])]),l("div",re,[s(m,{href:n.route("clientarea.sellers.blocked-numbers.index",e.id),title:"Dígitos bloqueados",icon:t(V)},null,8,["href","icon"]),s(m,{onClick:C=>q(e),title:"Editar",icon:t(D)},null,8,["onClick","icon"]),s(m,{onClick:C=>N(e.id),title:M[e.status],icon:t(V)},null,8,["onClick","title","icon"]),s(m,{onClick:C=>t(I)(e.id),title:"Eliminar",icon:t(U)},null,8,["onClick","icon"])])]),_:2},1024)]),l("div",le,[l("span",oe,[l("span",null,w(e.name),1),e.status=="enabled"?(p(),f("span",ae,[s(t(J),{size:"20",class:"text-green-pea-500"})])):(p(),f("span",ne,[s(t(K),{size:"20",class:"text-red-300"})]))]),l("span",ie,w(e.email),1)])])])]))),256))]),s(L,{show:d.value,title:"Vendedor",onOnCancel:y,onOnSubmit:$},{default:h(()=>[s(_,{text:"Nombre",modelValue:t(r).name,"onUpdate:modelValue":c[0]||(c[0]=e=>t(r).name=e),required:""},null,8,["modelValue"]),s(_,{text:"Correo",modelValue:t(r).email,"onUpdate:modelValue":c[1]||(c[1]=e=>t(r).email=e),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),i.value?(p(),f(k,{key:0},[s(_,{text:"Contraseña",modelValue:t(r).password,"onUpdate:modelValue":c[2]||(c[2]=e=>t(r).password=e),type:"password",required:""},null,8,["modelValue"]),s(_,{text:"Confirmar contraseña",modelValue:t(r).password_confirmation,"onUpdate:modelValue":c[3]||(c[3]=e=>t(r).password_confirmation=e),type:"password",required:""},null,8,["modelValue"])],64)):O("",!0)]),_:1},8,["show"])],64))}},ue=l("span",{class:"title"}," Vendedores ",-1),Ce={__name:"Index",props:{sellers:{type:Object,required:!0}},setup(o){const u=b(!1);return(d,i)=>(p(),z(G,{title:"Vendedores"},{header:h(()=>[ue,l("button",{onClick:i[0]||(i[0]=v=>u.value=!u.value),type:"button",class:"primary-button"}," Nuevo ")]),default:h(()=>[s(ce,{sellers:o.sellers,triggerNew:u.value},null,8,["sellers","triggerNew"])]),_:1}))}};export{Ce as default};
