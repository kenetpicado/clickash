import{_ as m}from"./InputForm-9c83281e.js";import{_ as V}from"./FormModal-2ee5cb69.js";import{_ as k}from"./AppLayout-a1a5b8b9.js";import{T as y}from"./TableSection-cddd6cd9.js";import{T as N,g as w,r as M,o as a,e as S,f as u,a as n,c as r,h as C,F as L,d as c,u as i,b as l,t as g,i as U}from"./app-4678c2f9.js";import{_ as x}from"./Checkbox-887b4afa.js";import{t as d}from"./toast-222764f6.js";import{I as $}from"./IconEye-0b872b07.js";import{I as q}from"./IconEdit-ea038fb8.js";import"./createVueComponent-c8464d70.js";import"./IconChevronRight-b2c5f8b2.js";import"./_plugin-vue_export-helper-c27b6911.js";const I=l("span",{class:"title"}," Rifas ",-1),B=l("th",null,"Nombre",-1),D=l("th",null,"Detalles",-1),E=l("th",null,"Acciones",-1),F={class:"font-semibold mb-1"},O={key:0,class:"badge-blue m-1"},R={key:1,class:"badge-blue m-1"},z={key:2,class:"badge-green whitespace-nowrap text-xs m-1"},T={key:3,class:"badge-blue whitespace-nowrap text-xs m-1"},j={key:4,class:"badge-blue whitespace-nowrap text-x m-1"},X={class:"flex items-center gap-3"},A=["onClick"],G={key:0},H=l("td",{colspan:"2",class:"text-center"},"No hay datos",-1),J=[H],K={key:0,class:"grid grid-cols-2 gap-4"},P={class:"grid grid-cols-2 gap-4"},de={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(p){const e=N({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});w(()=>e.settings.date,o=>{o&&(e.settings.min=null,e.settings.max=null)});const b=[{name:"Inicio",route:route("clientarea.index")},{name:"Rifas",route:route("clientarea.raffles.index")}],_=M(!1);function h(){if(!e.settings.date){if(e.settings.min==null){d.error("Minimo es requerido");return}if(e.settings.max==null){d.error("Maximo es requerido");return}if(isNaN(e.settings.min)){d.error("Minimo debe ser un numero valido");return}if(isNaN(e.settings.max)){d.error("Maximo debe ser un numero valido");return}}if(isNaN(e.settings.general_limit)){d.error("Limite general debe ser un numero valido");return}if(isNaN(e.settings.individual_limit)){d.error("Limite individual debe ser un numero valido");return}e.put(route("clientarea.raffles.update",e.raffle_id),{preserveScroll:!0,onSuccess:()=>{f(),d.success("Rifa actualizada")}})}const f=()=>{e.reset(),_.value=!1};function v(o){e.raffle_name=o.raffle.name,e.raffle_id=o.raffle_id,Object.assign(e.settings,o.settings),_.value=!0}return(o,s)=>(a(),S(k,{title:"Rifas",breads:b},{header:u(()=>[I]),default:u(()=>[n(y,null,{header:u(()=>[B,D,E]),body:u(()=>[(a(!0),r(L,null,C(p.raffles,t=>(a(),r("tr",null,[l("td",null,[l("div",F,g(t.raffle.name),1)]),l("td",null,[t.settings.super_x?(a(),r("div",O," Super X ")):c("",!0),t.settings.date?(a(),r("div",R," Fecha ")):(a(),r("div",z," Desde "+g(t.settings.min)+" hasta "+g(t.settings.max),1)),t.settings.individual_limit?(a(),r("div",T," Limite individual: C$"+g(t.settings.individual_limit),1)):c("",!0),t.settings.general_limit?(a(),r("div",j," Limite general: C$"+g(t.settings.general_limit),1)):c("",!0)]),l("td",null,[l("div",X,[n(i(U),{href:o.route("clientarea.raffles.show",t.raffle_id),tooltip:"Detalles"},{default:u(()=>[n(i($),{size:"22"})]),_:2},1032,["href"]),l("span",{tooltip:"Editar",role:"button",onClick:Q=>v(t)},[n(i(q),{size:"22"})],8,A)])])]))),256)),p.raffles.length==0?(a(),r("tr",G,J)):c("",!0)]),_:1}),n(V,{show:_.value,title:i(e).raffle_name,onOnCancel:f,onOnSubmit:h},{default:u(()=>[n(x,{checked:i(e).settings.super_x,"onUpdate:checked":s[0]||(s[0]=t=>i(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),n(x,{checked:i(e).settings.date,"onUpdate:checked":s[1]||(s[1]=t=>i(e).settings.date=t),text:"Fecha"},null,8,["checked"]),i(e).settings.date?c("",!0):(a(),r("div",K,[n(m,{text:"Minimo",modelValue:i(e).settings.min,"onUpdate:modelValue":s[2]||(s[2]=t=>i(e).settings.min=t),required:"",type:"number"},null,8,["modelValue"]),n(m,{text:"Maximo",modelValue:i(e).settings.max,"onUpdate:modelValue":s[3]||(s[3]=t=>i(e).settings.max=t),required:"",type:"number"},null,8,["modelValue"])])),l("div",P,[n(m,{text:"Limite general",modelValue:i(e).settings.general_limit,"onUpdate:modelValue":s[4]||(s[4]=t=>i(e).settings.general_limit=t),type:"number"},null,8,["modelValue"]),n(m,{text:"Limite individual",modelValue:i(e).settings.individual_limit,"onUpdate:modelValue":s[5]||(s[5]=t=>i(e).settings.individual_limit=t),type:"number"},null,8,["modelValue"])]),n(m,{text:"Multiplicador",modelValue:i(e).settings.multiplier,"onUpdate:modelValue":s[6]||(s[6]=t=>i(e).settings.multiplier=t),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])]),_:1}))}};export{de as default};
