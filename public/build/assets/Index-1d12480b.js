import{_ as N}from"./AddButton-db03b925.js";import{a as E,_}from"./Dropdown-ea130fef.js";import{_ as m}from"./InputForm-a4f5b969.js";import{_ as S}from"./SelectForm-f0511e02.js";import{_ as O}from"./FormModal-74af65ef.js";import{T}from"./TableSection-75bbd083.js";import{T as j,r as k,o as n,h as C,g as d,a as r,c as i,f as x,F as V,d as w,u as s,b as l,l as A,t as u}from"./app-8034a95a.js";import{t as U}from"./toast-32715f94.js";import{c as B,I as F}from"./helpers-4abbe5f5.js";import{_ as P,I as R}from"./AppLayout-c7d8f0b9.js";import{I as G}from"./IconUsers-08cb805c.js";import{I as H}from"./IconEdit-4cb3f346.js";import"./createVueComponent-68b58a49.js";import"./IconList-50f26f53.js";import"./_plugin-vue_export-helper-c27b6911.js";function L(){const a=j({id:"",name:"",email:"",password:"",password_confirmation:"",sellers_limit:5,company_name:"",role:"owner",status:"enabled"});function y(t=null){a.post(route("dashboard.users.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{U.success("User created successfully"),t&&t()}})}function h(t=null){a.put(route("dashboard.users.update",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{U.success("User updated successfully"),t&&t()}})}function v(t){B({message:"Are you sure you want to delete this user?",onConfirm:()=>{a.delete(route("dashboard.users.destroy",t),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{U.success("User deleted successfully")}})}})}return{form:a,store:y,update:h,destroy:v}}const M=l("span",{class:"title"}," Usuarios ",-1),z=l("th",null,"Nombre",-1),J=l("th",null,"CompaÃ±ia",-1),K=l("th",null,"Vendedores",-1),Q=l("th",null,"Actividad",-1),W=l("th",null,"Estado",-1),X=l("th",null,"Accciones",-1),Y={class:"hover:bg-gray-50"},Z={class:"text-gray-400 mt-2"},D={class:"uppercase"},ee={class:"px-1 py-1"},te={class:"px-1 py-1"},se={key:0},oe=l("td",{colspan:"6",class:"text-center"},"No data to display",-1),le=[oe],re=["value"],ae=["value"],Ue={__name:"Index",props:{users:{type:Object,required:!0},roles:{type:Object,required:!0},statuses:{type:Object,required:!0}},setup(a){const{destroy:y,store:h,update:v,form:t}=L(),$=[{name:"Home",route:route("dashboard.users.index")},{name:"Users",route:route("dashboard.users.index")}],c=k(!0),p=k(!1);function g(f){Object.assign(t,f),c.value=!1,p.value=!0}function I(){c.value?h(b):v(b)}const b=()=>{t.reset(),p.value=!1,c.value=!0};return(f,o)=>(n(),C(P,{title:"Usuarios",breads:$},{header:d(()=>[M,r(N,{onClick:o[0]||(o[0]=e=>p.value=!0)})]),default:d(()=>[r(T,null,{header:d(()=>[z,J,K,Q,W,X]),body:d(()=>[(n(!0),i(V,null,x(a.users,(e,ne)=>(n(),i("tr",Y,[l("td",null,[A(u(e.name)+" ",1),l("div",Z,u(e.email),1)]),l("td",null,u(e.company_name),1),l("td",null,u(e.sellers_count)+" / "+u(e.sellers_limit),1),l("td",null,u(e.online),1),l("td",null,[l("span",D,u(e.status),1)]),l("td",null,[r(E,null,{default:d(()=>[l("div",ee,[r(_,{href:f.route("dashboard.users.show",e.id),title:"Rifas",icon:s(R)},null,8,["href","icon"]),r(_,{href:f.route("dashboard.users.sellers",e.id),title:"Vendedores",icon:s(G)},null,8,["href","icon"])]),l("div",te,[r(_,{onClick:q=>g(e),title:"Editar",icon:s(H)},null,8,["onClick","icon"]),r(_,{onClick:q=>s(y)(e.id),title:"Eliminar",icon:s(F)},null,8,["onClick","icon"])])]),_:2},1024)])]))),256)),a.users.length==0?(n(),i("tr",se,le)):w("",!0)]),_:1}),r(O,{show:p.value,title:"Usuario",onOnCancel:b,onOnSubmit:I},{default:d(()=>[r(m,{text:"Name",modelValue:s(t).name,"onUpdate:modelValue":o[1]||(o[1]=e=>s(t).name=e),required:""},null,8,["modelValue"]),r(m,{text:"Email",modelValue:s(t).email,"onUpdate:modelValue":o[2]||(o[2]=e=>s(t).email=e),type:"email",required:""},null,8,["modelValue"]),r(m,{text:"Company name",modelValue:s(t).company_name,"onUpdate:modelValue":o[3]||(o[3]=e=>s(t).company_name=e),required:""},null,8,["modelValue"]),c.value?(n(),i(V,{key:0},[r(m,{text:"Password",modelValue:s(t).password,"onUpdate:modelValue":o[4]||(o[4]=e=>s(t).password=e),type:"password",required:""},null,8,["modelValue"]),r(m,{text:"Password confirmation",modelValue:s(t).password_confirmation,"onUpdate:modelValue":o[5]||(o[5]=e=>s(t).password_confirmation=e),type:"password",required:""},null,8,["modelValue"])],64)):w("",!0),r(m,{text:"Sellers limit",modelValue:s(t).sellers_limit,"onUpdate:modelValue":o[6]||(o[6]=e=>s(t).sellers_limit=e),type:"number"},null,8,["modelValue"]),r(S,{modelValue:s(t).role,"onUpdate:modelValue":o[7]||(o[7]=e=>s(t).role=e),text:"Role"},{default:d(()=>[(n(!0),i(V,null,x(a.roles,e=>(n(),i("option",{value:e},u(e),9,re))),256))]),_:1},8,["modelValue"]),c.value?w("",!0):(n(),C(S,{key:1,modelValue:s(t).status,"onUpdate:modelValue":o[8]||(o[8]=e=>s(t).status=e),text:"Status"},{default:d(()=>[(n(!0),i(V,null,x(a.statuses,e=>(n(),i("option",{value:e},u(e),9,ae))),256))]),_:1},8,["modelValue"]))]),_:1},8,["show"])]),_:1}))}};export{Ue as default};
