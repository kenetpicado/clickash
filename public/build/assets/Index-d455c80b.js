import{_ as S}from"./AddButton-d311d4be.js";import{_ as v}from"./Checkbox-0769bb18.js";import{_ as u}from"./InputForm-b1dd54da.js";import{_ as I}from"./FormModal-4f5da33e.js";import{T as U}from"./TableSection-3047f31c.js";import{T as $,r as b,g as C,o as m,e as R,f,a,c as p,h as w,F as L,d as V,u as l,b as n,t as x}from"./app-fc7d5a4b.js";import{t as d}from"./toast-59b580ce.js";import{_ as M}from"./AppLayout-88627344.js";import{I as B}from"./IconPencil-3a0c6819.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./createVueComponent-3215f9e0.js";import"./IconChevronRight-e06cb0eb.js";function O(){const o=$({id:"",name:"",image:"",settings:{min:null,max:null,date:!1,super_x:!1,general_limit:null,individual_limit:null}});function g(i=null){o.post(route("dashboard.raffles.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Raffle created successfully"),i&&i()}})}function r(i=null){o.put(route("dashboard.raffles.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Raffle updated successfully"),i&&i()}})}return{form:o,store:g,update:r}}const T=n("span",{class:"title"}," Raffles ",-1),j=n("th",null,"ID",-1),A=n("th",null,"Nombre",-1),F=n("th",null,"Settings",-1),G=n("th",null,"Accciones",-1),q={class:"hover:bg-gray-50"},D={class:"flex gap-2 text-gray-400"},E={key:0},H=n("td",{colspan:"3",class:"text-center"},"No data to display",-1),P=[H],X={key:0,class:"grid grid-cols-2 gap-4"},z={class:"grid grid-cols-2 gap-4"},re={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(o){const g=[{name:"Home",route:route("dashboard.raffles.index")},{name:"Raffles",route:route("dashboard.raffles.index")}],r=b(!1),i=b(!0),{store:h,update:N,form:e}=O();function k(c){Object.assign(e,c),r.value=!0,i.value=!1}C(()=>e.settings.date,c=>{c&&(e.settings.min=null,e.settings.max=null)});function y(){if(isNaN(e.settings.min)){d.error("Min must be a number");return}if(isNaN(e.settings.max)){d.error("Max must be a number");return}if(isNaN(e.settings.general_limit)){d.error("General Limit must be a number");return}if(isNaN(e.settings.individual_limit)){d.error("Individual Limit must be a number");return}i.value?h(_):N(_)}const _=()=>{e.reset(),r.value=!1,i.value=!0};return(c,s)=>(m(),R(M,{title:"Raffles",breads:g},{header:f(()=>[T,a(S,{onClick:s[0]||(s[0]=t=>r.value=!0)})]),default:f(()=>[a(U,null,{header:f(()=>[j,A,F,G]),body:f(()=>[(m(!0),p(L,null,w(o.raffles,(t,J)=>(m(),p("tr",q,[n("td",null,x(t.id),1),n("td",null,x(t.name),1),n("td",null,[n("pre",null,x(t.settings),1)]),n("td",null,[n("div",D,[a(l(B),{role:"button",onClick:K=>k(t)},null,8,["onClick"])])])]))),256)),o.raffles.length==0?(m(),p("tr",E,P)):V("",!0)]),_:1}),a(I,{show:r.value,title:"Add",onOnCancel:_,onOnSubmit:y},{default:f(()=>[a(u,{text:"Name",modelValue:l(e).name,"onUpdate:modelValue":s[1]||(s[1]=t=>l(e).name=t)},null,8,["modelValue"]),a(u,{text:"Image",modelValue:l(e).image,"onUpdate:modelValue":s[2]||(s[2]=t=>l(e).image=t),type:"url"},null,8,["modelValue"]),a(v,{checked:l(e).settings.super_x,"onUpdate:checked":s[3]||(s[3]=t=>l(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),a(v,{checked:l(e).settings.date,"onUpdate:checked":s[4]||(s[4]=t=>l(e).settings.date=t),text:"Date"},null,8,["checked"]),l(e).settings.date?V("",!0):(m(),p("div",X,[a(u,{text:"Min",modelValue:l(e).settings.min,"onUpdate:modelValue":s[5]||(s[5]=t=>l(e).settings.min=t)},null,8,["modelValue"]),a(u,{text:"Max",modelValue:l(e).settings.max,"onUpdate:modelValue":s[6]||(s[6]=t=>l(e).settings.max=t)},null,8,["modelValue"])])),n("div",z,[a(u,{text:"General Limit",modelValue:l(e).settings.general_limit,"onUpdate:modelValue":s[7]||(s[7]=t=>l(e).settings.general_limit=t)},null,8,["modelValue"]),a(u,{text:"Individual Limit",modelValue:l(e).settings.individual_limit,"onUpdate:modelValue":s[8]||(s[8]=t=>l(e).settings.individual_limit=t)},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{re as default};
