import{_ as N}from"./AddButton-68f231e0.js";import{_ as f}from"./InputForm-e5beccd3.js";import{_ as $}from"./FormModal-6b4dea58.js";import{T as q,r as w,o as m,e as z,f as u,a as n,c as _,h as A,b as e,k as T,t as y,u as s,i as B,F as k,d as S}from"./app-8e3fa869.js";import{t as d}from"./toast-9fbdbe11.js";import{c as O}from"./helpers-277f3b67.js";import{_ as U}from"./AppLayout-142a13e5.js";import{T as M}from"./TableSection-ff8fb781.js";import{c as j}from"./createVueComponent-154e72e1.js";import{I as F}from"./IconEdit-384145f3.js";import{I as L}from"./IconTrash-8dece049.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconChevronRight-dcb3cb89.js";var G=j("currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);function H(){const a=q({id:"",name:"",email:"",password:"",password_confirmation:""});function h(r=null){if(a.password!==a.password_confirmation){d.error("Las contraseñas no coinciden");return}a.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Guardado correctamente"),r&&r()},onError:i=>{d.error(i.message),r&&r()}})}function g(r=null){a.put(route("clientarea.sellers.update",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Actualizado correctamente"),r&&r()}})}function o(r=null){a.put(route("clientarea.toggle-status",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Actualizado correctamente"),r&&r()}})}function v(r){O({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{a.delete(route("clientarea.sellers.destroy",r),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})}return{form:a,store:h,update:g,destroy:v,toggleStatus:o}}const J=e("span",{class:"title"}," Vendedores ",-1),K=e("th",null,"Nombre",-1),P=e("th",null,"Actividad",-1),Q=e("th",null,"Estado",-1),R=e("th",null,"Acciones",-1),W={class:"text-gray-400"},X={class:"whitespace-nowrap"},Y={class:"relative inline-flex items-center cursor-pointer"},Z=["checked","onChange"],D=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:indigo-4 peer-focus:indigo-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"},null,-1),ee={class:"flex items-center gap-3"},te=["onClick"],re=["onClick"],oe={key:0},se=e("td",{colspan:"4",class:"text-center"},"No hay datos",-1),ae=[se],be={__name:"Index",props:{sellers:{type:Object,required:!0}},setup(a){const{store:h,update:g,form:o,toggleStatus:v,destroy:r}=H(),i=w(!0),x=[{name:"Inicio",route:route("clientarea.index")},{name:"Vendedores",route:route("clientarea.sellers.index")}],p=w(!1);function C(){i.value?h(b):g(b)}const b=()=>{o.reset(),p.value=!1,i.value=!0};function E(c){i.value=!1,Object.assign(o,c),p.value=!0}function I(c){o.id=c,v()}return(c,l)=>(m(),z(U,{title:"Vendedores",breads:x},{header:u(()=>[J,n(N,{onClick:l[0]||(l[0]=t=>p.value=!0)})]),default:u(()=>[n(M,null,{header:u(()=>[K,P,Q,R]),body:u(()=>[(m(!0),_(k,null,A(a.sellers,t=>(m(),_("tr",null,[e("td",null,[T(y(t.name)+" ",1),e("div",W,y(t.email),1)]),e("td",null,[e("span",X,y(t.online),1)]),e("td",null,[e("label",Y,[e("input",{type:"checkbox",class:"sr-only peer",checked:t.status=="enabled",onChange:V=>I(t.id)},null,40,Z),D])]),e("td",null,[e("div",ee,[n(s(B),{href:c.route("clientarea.sellers.show",t.id),tooltip:"Ventas"},{default:u(()=>[n(s(G),{size:"22"})]),_:2},1032,["href"]),e("span",{tooltip:"Editar",role:"button",onClick:V=>E(t)},[n(s(F),{size:"22"})],8,te),e("span",{tooltip:"Eliminar",role:"button",onClick:V=>s(r)(t.id)},[n(s(L),{size:"22"})],8,re)])])]))),256)),a.sellers.length==0?(m(),_("tr",oe,ae)):S("",!0)]),_:1}),n($,{show:p.value,title:"Vendedor",onOnCancel:b,onOnSubmit:C},{default:u(()=>[n(f,{text:"Nombre",modelValue:s(o).name,"onUpdate:modelValue":l[1]||(l[1]=t=>s(o).name=t),required:""},null,8,["modelValue"]),n(f,{text:"Correo",modelValue:s(o).email,"onUpdate:modelValue":l[2]||(l[2]=t=>s(o).email=t),type:"email",required:""},null,8,["modelValue"]),i.value?(m(),_(k,{key:0},[n(f,{text:"Contraseña",modelValue:s(o).password,"onUpdate:modelValue":l[3]||(l[3]=t=>s(o).password=t),type:"password",required:""},null,8,["modelValue"]),n(f,{text:"Confirmar contraseña",modelValue:s(o).password_confirmation,"onUpdate:modelValue":l[4]||(l[4]=t=>s(o).password_confirmation=t),type:"password",required:""},null,8,["modelValue"])],64)):S("",!0)]),_:1},8,["show"])]),_:1}))}};export{be as default};
