import{_ as b,a as h}from"./DropdownItem-61368910.js";import{_ as k}from"./InputForm-acb6448b.js";import{_ as w}from"./SelectForm-a04db689.js";import{_ as O}from"./FormModal-1f80bf37.js";import{_ as S}from"./ClientareaLayout-901333af.js";import{I as E,c as V}from"./helpers-773bde8e.js";import{t as f}from"./toast-b46a3799.js";import{r as j,T as C,o as s,k as T,f as i,d as e,t as n,c as l,l as g,F as v,b as c,u as d,O as $}from"./app-ae25cce0.js";import"./IconList-78577ca8.js";import"./IconUser-0a386455.js";import"./use-resolve-button-type-eeb630b5.js";import"./Modal-38595fb6.js";const I={class:"title"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-gray-600 mb-4"},R={class:"bg-card p-3 rounded-xl"},B={class:"flex items-center justify-between text-sm mb-2"},M={class:"text-gray-400"},N={class:"text-gray-600 grid grid-cols-2 gap-1 text-sm"},D={class:"flex items-center justify-between mb-4 text-gray-600"},F=e("span",{class:"title"}," Movimientos ",-1),P={key:0,class:"text-center text-gray-400 mb-4"},U={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},A={class:"bg-card p-3 rounded-xl"},L={class:"flex items-center justify-between"},z={class:"text-gray-400 text-sm mb-2"},G={class:"px-1 py-1"},H={class:"flex items-center justify-between"},J={class:"text-sm text-gray-600 font-bold"},K={class:"text-xl text-gray-600 font-bold"},Q=e("option",{value:"RETIRO"},"RETIRO",-1),W=e("option",{value:"DEPOSITO"},"DEPOSITO",-1),de={__name:"Show",props:{movements:{type:Object,required:!0},seller:{type:Object,required:!0},week:{type:String,required:!0},week_resume:{type:Object,required:!0}},setup(o){const u=o,_=j(!1),r=C({id:null,type:"RETIRO",week:u.week,amount:null});function p(){r.reset(),_.value=!1}function y(){r.post(route("clientarea.sellers.archings.store",u.seller.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Movimiento agregado")},onError:m=>{console.log(m)}})}function x(m){V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{$.delete(route("clientarea.sellers.archings.destroy",[u.seller.id,m]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Eliminado correctamente")}})}})}return(m,a)=>(s(),T(S,{title:"Caja"},{header:i(()=>[e("span",I,n(o.seller.name),1)]),default:i(()=>[e("div",q,[e("div",R,[e("div",B,[e("span",M,n(o.week_resume.data.week_label),1)]),e("div",N,[(s(!0),l(v,null,g(o.week_resume.data.resume,t=>(s(),l("span",null,n(t),1))),256))])])]),e("div",D,[F,e("button",{onClick:a[0]||(a[0]=t=>_.value=!0),type:"button",class:"simple-button"}," Nuevo ")]),o.movements.data.length==0?(s(),l("div",P," No hay movimientos ")):(s(),l("div",U,[(s(!0),l(v,null,g(o.movements.data,t=>(s(),l("div",A,[e("div",L,[e("div",z,n(t.created_at),1),c(h,null,{default:i(()=>[e("div",G,[c(b,{onClick:X=>x(t.id),title:"Eliminar",icon:d(E)},null,8,["onClick","icon"])])]),_:2},1024)]),e("div",H,[e("span",J,n(t.type),1),e("span",K,n(t.amount),1)])]))),256))])),c(O,{show:_.value,title:"Movimiento",onOnCancel:p,onOnSubmit:y},{default:i(()=>[c(w,{modelValue:d(r).type,"onUpdate:modelValue":a[1]||(a[1]=t=>d(r).type=t),text:"Tipo",required:""},{default:i(()=>[Q,W]),_:1},8,["modelValue"]),c(k,{modelValue:d(r).amount,"onUpdate:modelValue":a[2]||(a[2]=t=>d(r).amount=t),type:"number",text:"Cantidad",required:""},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{de as default};
