import{_ as y,a as x}from"./DropdownItem-9fe7f6e1.js";import{_ as b}from"./InputForm-e51ec3dd.js";import{_ as h}from"./SelectForm-84449ccc.js";import{_ as w}from"./FormModal-b18226cb.js";import{_ as k}from"./ClientareaLayout-7de5277d.js";import{I as O,c as S}from"./helpers-c0f5813a.js";import{t as f}from"./toast-390b6893.js";import{r as E,T as V,o as r,k as j,f as l,d as e,t as s,c as m,F as C,l as I,b as i,u as d,O as T}from"./app-8c3816dc.js";import"./IconList-860ff600.js";import"./IconUser-d1921014.js";import"./use-resolve-button-type-4f5754f2.js";import"./Modal-db9d1e49.js";const $={class:"title"},R={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-gray-600 mb-4"},q={class:"bg-card p-3 rounded-xl"},B={class:"flex items-center justify-between text-sm mb-2"},D={class:"text-gray-400"},M={class:"text-gray-600 grid grid-cols-2 gap-1 text-sm"},N={class:"mt-3 text-end text-gray-600"},F={class:"flex items-center justify-between mb-4 text-gray-600"},P=e("span",{class:"title"}," Movimientos ",-1),U={key:0,class:"text-center text-gray-400 mb-4"},A={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},L={class:"bg-card p-3 rounded-xl"},z={class:"flex items-center justify-between"},G={class:"text-gray-400 text-sm mb-2"},H={class:"px-1 py-1"},J={class:"flex items-center justify-between"},K={class:"text-sm text-gray-600 font-bold"},Q={class:"text-xl text-gray-600 font-bold"},W=e("option",{value:"RETIRO"},"RETIRO",-1),X=e("option",{value:"DEPOSITO"},"DEPOSITO",-1),me={__name:"Show",props:{movements:{type:Object,required:!0},seller:{type:Object,required:!0},week:{type:String,required:!0},week_resume:{type:Object,required:!0}},setup(t){const u=t,_=E(!1),a=V({id:null,type:"RETIRO",week:u.week,amount:null});function p(){a.reset(),_.value=!1}function g(){a.post(route("clientarea.sellers.archings.store",u.seller.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),f.success("Movimiento agregado")},onError:c=>{console.log(c)}})}function v(c){S({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{T.delete(route("clientarea.sellers.archings.destroy",[u.seller.id,c]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f.success("Eliminado correctamente")}})}})}return(c,n)=>(r(),j(k,{title:"Caja"},{header:l(()=>[e("span",$,s(t.seller.name),1)]),default:l(()=>[e("div",R,[e("div",q,[e("div",B,[e("span",D,s(t.week_resume.data.week_label),1)]),e("div",M,[e("span",null,"Ingresos "+s(t.week_resume.data.income),1),e("span",null,"Egresos "+s(t.week_resume.data.expenditure),1),e("span",null,"Depósitos "+s(t.week_resume.data.deposit),1),e("span",null,"Retiros "+s(t.week_resume.data.withdrawal),1)]),e("div",N,[e("strong",null,s(t.week_resume.data.type)+": "+s(t.week_resume.data.balance),1)])])]),e("div",F,[P,e("button",{onClick:n[0]||(n[0]=o=>_.value=!0),type:"button",class:"simple-button"}," Nuevo ")]),t.movements.data.length==0?(r(),m("div",U," No hay movimientos ")):(r(),m("div",A,[(r(!0),m(C,null,I(t.movements.data,o=>(r(),m("div",L,[e("div",z,[e("div",G,s(o.created_at),1),i(x,null,{default:l(()=>[e("div",H,[i(y,{onClick:Y=>v(o.id),title:"Eliminar",icon:d(O)},null,8,["onClick","icon"])])]),_:2},1024)]),e("div",J,[e("span",K,s(o.type),1),e("span",Q,s(o.amount),1)])]))),256))])),i(w,{show:_.value,title:"Movimiento",onOnCancel:p,onOnSubmit:g},{default:l(()=>[i(h,{modelValue:d(a).type,"onUpdate:modelValue":n[1]||(n[1]=o=>d(a).type=o),text:"Tipo",required:""},{default:l(()=>[W,X]),_:1},8,["modelValue"]),i(b,{modelValue:d(a).amount,"onUpdate:modelValue":n[2]||(n[2]=o=>d(a).amount=o),type:"number",text:"Cantidad",required:""},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{me as default};
