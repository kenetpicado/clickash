import{_}from"./InputForm-12e18036.js";import{_ as k}from"./FormModal-c1d866eb.js";import{_ as V}from"./AppLayout-2e849277.js";import{T as N}from"./TableSection-01aa3d88.js";import{T as y,g as w,r as S,o as l,e as C,f as u,a,c as o,h as L,F as M,d as m,u as i,b as n,t as c,i as $}from"./app-2259b7ab.js";import{_ as h}from"./Checkbox-02762ea0.js";import{t as r}from"./toast-1af94a2c.js";import{I}from"./IconEye-01935243.js";import{I as U}from"./IconEdit-865e50c0.js";import"./_plugin-vue_export-helper-c27b6911.js";const R=n("span",{class:"title"}," Rifas ",-1),B=n("th",null,"Nombre",-1),D=n("th",null,"Detalles",-1),E=n("th",null,"Acciones",-1),F={class:"font-semibold mb-1"},O={key:0,class:"badge-blue m-1"},q={key:1,class:"badge-blue m-1"},z={key:2,class:"badge-green whitespace-nowrap text-xs m-1"},T={key:3,class:"badge-blue whitespace-nowrap text-xs m-1"},j={key:4,class:"badge-blue whitespace-nowrap text-x m-1"},X={class:"flex items-center gap-3"},A=["onClick"],G={key:0},H=n("td",{colspan:"2",class:"text-center"},"No hay datos",-1),J=[H],K={key:0,class:"grid grid-cols-2 gap-4"},P={class:"grid grid-cols-2 gap-4"},oe={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(f){const e=y({raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null}});w(()=>e.settings.date,d=>{d&&(e.settings.min=null,e.settings.max=null)});const x=[{name:"Inicio",route:route("clientarea.index")},{name:"Rifas",route:route("clientarea.raffles.index")}],g=S(!1);function v(){if(!e.settings.date){if(e.settings.min==null){r.error("Minimo es requerido");return}if(e.settings.max==null){r.error("Maximo es requerido");return}if(isNaN(e.settings.min)){r.error("Minimo debe ser un numero valido");return}if(isNaN(e.settings.max)){r.error("Maximo debe ser un numero valido");return}}if(isNaN(e.settings.general_limit)){r.error("Limite general debe ser un numero valido");return}if(isNaN(e.settings.individual_limit)){r.error("Limite individual debe ser un numero valido");return}e.put(route("clientarea.raffles.update",e.raffle_id),{preserveScroll:!0,onSuccess:()=>{p(),r.success("Rifa actualizada")}})}const p=()=>{e.reset(),g.value=!1};function b(d){e.raffle_id=d.raffle_id,Object.assign(e.settings,d.settings),g.value=!0}return(d,s)=>(l(),C(V,{title:"Rifas",breads:x},{header:u(()=>[R]),default:u(()=>[a(N,null,{header:u(()=>[B,D,E]),body:u(()=>[(l(!0),o(M,null,L(f.raffles,t=>(l(),o("tr",null,[n("td",null,[n("div",F,c(t.raffle.name),1)]),n("td",null,[t.settings.super_x?(l(),o("div",O," Super X ")):m("",!0),t.settings.date?(l(),o("div",q," Fecha ")):(l(),o("div",z," Desde "+c(t.settings.min)+" hasta "+c(t.settings.max),1)),t.settings.individual_limit?(l(),o("div",T," Limite individual: C$"+c(t.settings.individual_limit),1)):m("",!0),t.settings.general_limit?(l(),o("div",j," Limite general: C$"+c(t.settings.general_limit),1)):m("",!0)]),n("td",null,[n("div",X,[a(i($),{href:d.route("clientarea.raffles.show",t.raffle_id),tooltip:"Detalles"},{default:u(()=>[a(i(I),{size:"22"})]),_:2},1032,["href"]),n("span",{tooltip:"Editar",role:"button",onClick:Q=>b(t)},[a(i(U),{size:"22"})],8,A)])])]))),256)),f.raffles.length==0?(l(),o("tr",G,J)):m("",!0)]),_:1}),a(k,{show:g.value,title:"Rifa",onOnCancel:p,onOnSubmit:v},{default:u(()=>[a(h,{checked:i(e).settings.super_x,"onUpdate:checked":s[0]||(s[0]=t=>i(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),a(h,{checked:i(e).settings.date,"onUpdate:checked":s[1]||(s[1]=t=>i(e).settings.date=t),text:"Fecha"},null,8,["checked"]),i(e).settings.date?m("",!0):(l(),o("div",K,[a(_,{text:"Minimo",modelValue:i(e).settings.min,"onUpdate:modelValue":s[2]||(s[2]=t=>i(e).settings.min=t)},null,8,["modelValue"]),a(_,{text:"Maximo",modelValue:i(e).settings.max,"onUpdate:modelValue":s[3]||(s[3]=t=>i(e).settings.max=t)},null,8,["modelValue"])])),n("div",P,[a(_,{text:"Limite general",modelValue:i(e).settings.general_limit,"onUpdate:modelValue":s[4]||(s[4]=t=>i(e).settings.general_limit=t)},null,8,["modelValue"]),a(_,{text:"Limite individual ",modelValue:i(e).settings.individual_limit,"onUpdate:modelValue":s[5]||(s[5]=t=>i(e).settings.individual_limit=t)},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{oe as default};
