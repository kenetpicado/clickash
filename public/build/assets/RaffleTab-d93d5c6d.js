import{h as y,T as b,k as V,o,c as r,b as n,F as _,l as w,t as d,a as s,e as f,u as i,d as m}from"./app-e7b8d848.js";import{_ as C}from"./FormModal-675b8ad6.js";import{_ as c}from"./InputForm-7d6766da.js";import{_ as h}from"./Checkbox-bbebc6fa.js";import{t as I}from"./toast-648f1ae8.js";import{_ as u,I as $,a as U}from"./Dropdown-ae72984e.js";import{I as S,a as D,b as L}from"./IconReportAnalytics-6fe1ed80.js";import{c as M}from"./IconUser-26e3f79d.js";import{I as q}from"./IconDeviceWatch-83476ba5.js";var N=M("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);const F={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},O={class:"bg-card rounded-xl p-2 w-full"},R={class:"flex justify-between text-gray-600"},j={class:"px-1 py-1"},B={class:"px-1 py-1"},A={class:"flex items-center gap-2 mb-3"},E={class:"bg-white rounded-xl w-20 h-20 overflow-hidden"},T=["src"],X={key:1,src:"/games.png",alt:"",class:"w-full h-full"},z={class:"flex flex-col gap-1 text-xs"},G={key:0},H={key:1},W={key:2},J={class:"w-full text-center bg-white py-1 rounded-xl text-primary text-xs"},K={key:0},P={key:1},Q={class:"grid grid-cols-2 gap-4"},Y={class:"grid grid-cols-2 gap-4 mb-1"},Z={key:0,class:"grid grid-cols-2 gap-4"},ue={__name:"RaffleTab",props:{raffles:{type:Object,required:!0}},setup(v){const g=y(!1),t=b({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});function x(a){t.raffle_name=a.raffle.name,t.raffle_id=a.raffle_id,Object.assign(t.settings,a.settings),g.value=!0}function k(){t.put(route("clientarea.raffles.update",t.raffle_id),{preserveScroll:!0,onSuccess:()=>{p(),I.success("Rifa actualizada")}})}const p=()=>{t.reset(),g.value=!1};return V(()=>t.settings.date,a=>{a&&(t.settings.min=null,t.settings.max=null)}),(a,l)=>(o(),r(_,null,[n("div",F,[(o(!0),r(_,null,w(v.raffles,e=>(o(),r("div",O,[n("div",R,[n("span",null,d(e.raffle.name),1),s(U,null,{default:f(()=>[n("div",j,[s(u,{href:a.route("clientarea.raffles.show",e.raffle_id),title:"Ventas",icon:i(S)},null,8,["href","icon"]),s(u,{href:a.route("clientarea.raffles.winning-numbers.index",e.raffle_id),title:"Ganadores",icon:i(N)},null,8,["href","icon"]),s(u,{href:a.route("clientarea.raffles.reports",e.raffle_id),title:"Reportes",icon:i(D)},null,8,["href","icon"])]),n("div",B,[s(u,{href:a.route("clientarea.raffles.blocked-numbers.index",e.raffle_id),title:"Dígitos bloqueados",icon:i(L)},null,8,["href","icon"]),s(u,{href:a.route("clientarea.raffles.availability.index",e.raffle_id),title:"Horario",icon:i(q)},null,8,["href","icon"]),s(u,{onClick:ee=>x(e),title:"Configuración",icon:i($)},null,8,["onClick","icon"])])]),_:2},1024)]),n("div",A,[n("div",E,[e.raffle.image?(o(),r("img",{key:0,src:e.raffle.image,alt:"",class:"w-full h-full"},null,8,T)):(o(),r("img",X))]),n("div",z,[n("span",null,"Super X: "+d(e.settings.super_x?"Activado":"Desactivado"),1),e.settings.general_limit?(o(),r("span",G," Limite general: C$"+d(e.settings.general_limit),1)):m("",!0),e.settings.individual_limit?(o(),r("span",H," Limite individual: C$"+d(e.settings.individual_limit),1)):m("",!0),e.settings.multiplier?(o(),r("span",W," Multiplicador: "+d(e.settings.multiplier),1)):m("",!0)])]),n("div",J,[e.settings.date?(o(),r("span",K," Fecha ")):(o(),r("span",P," Desde "+d(e.settings.min)+" hasta "+d(e.settings.max),1))])]))),256))]),s(C,{show:g.value,title:i(t).raffle_name,onOnCancel:p,onOnSubmit:k},{default:f(()=>[n("div",Q,[s(c,{text:"Limite general C$",modelValue:i(t).settings.general_limit,"onUpdate:modelValue":l[0]||(l[0]=e=>i(t).settings.general_limit=e),type:"number"},null,8,["modelValue"]),s(c,{text:"Limite indiv. C$",modelValue:i(t).settings.individual_limit,"onUpdate:modelValue":l[1]||(l[1]=e=>i(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"])]),n("div",Y,[s(h,{checked:i(t).settings.super_x,"onUpdate:checked":l[2]||(l[2]=e=>i(t).settings.super_x=e),text:"Super X"},null,8,["checked"]),s(h,{checked:i(t).settings.date,"onUpdate:checked":l[3]||(l[3]=e=>i(t).settings.date=e),text:"Fecha"},null,8,["checked"])]),i(t).settings.date?m("",!0):(o(),r("div",Z,[s(c,{text:"Número inicio",modelValue:i(t).settings.min,"onUpdate:modelValue":l[4]||(l[4]=e=>i(t).settings.min=e),required:"",type:"number"},null,8,["modelValue"]),s(c,{text:"Número final",modelValue:i(t).settings.max,"onUpdate:modelValue":l[5]||(l[5]=e=>i(t).settings.max=e),required:"",type:"number"},null,8,["modelValue"])])),s(c,{text:"Multiplicador",modelValue:i(t).settings.multiplier,"onUpdate:modelValue":l[6]||(l[6]=e=>i(t).settings.multiplier=e),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])],64))}};export{ue as _};
