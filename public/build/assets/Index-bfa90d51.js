import{r as q,T as E,e as j,o as u,c as p,b as a,F as C,f as T,t as h,a as t,g as r,u as e,h as R,i as M,n as c,j as x,d as $,k as N}from"./app-5deccacc.js";import{_ as A}from"./FormModal-2606d9ce.js";import{_ as k}from"./InputForm-637bf0b5.js";import{_ as L}from"./Checkbox-c1c1917a.js";import{t as S}from"./toast-0fc36d95.js";import{R as B,h as F,y as _,M as D,I as J}from"./IconEdit-71585fb1.js";import{I as G}from"./IconList-17e381ff.js";import{c as I}from"./createVueComponent-7151f76d.js";import{c as K}from"./helpers-867b5af5.js";import{I as P}from"./IconTrash-d2af0b19.js";import{_ as Q}from"./ThePaginator-c83b6704.js";import{_ as Y}from"./Transaction-6be7aa08.js";import{_ as Z}from"./StatCard-4f243138.js";import{I as ee}from"./IconCurrencyDollar-13527179.js";import{_ as te}from"./ClientareaLayout-de6aa682.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Carbon-e7b34390.js";var se=I("device-watch","IconDeviceWatch",[["path",{d:"M6 9a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v6a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3v-6z",key:"svg-0"}],["path",{d:"M9 18v3h6v-3",key:"svg-1"}],["path",{d:"M9 6v-3h6v3",key:"svg-2"}]]),W=I("eye-dollar","IconEyeDollar",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M13.193 17.924c-.39 .05 -.788 .076 -1.193 .076c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.005 0 5.592 1.394 7.761 4.181",key:"svg-1"}],["path",{d:"M21 15h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M19 21v1m0 -8v1",key:"svg-3"}]]),ae=I("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),le=I("number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]),X=I("report-analytics","IconReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]),re=I("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),ne=I("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);const ie={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},oe={class:"bg-card rounded-xl p-2 w-full"},ue={class:"flex justify-between"},de={class:"px-1 py-1"},ce={class:"px-1 py-1"},me={class:"px-1 py-1"},pe=["onClick"],fe={class:"flex items-center gap-2 mb-3"},ge=a("div",{class:"bg-white rounded-xl"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),ve={class:"flex flex-col gap-1 text-xs text-gray-600"},ye={key:0},he={key:1},xe={key:2},_e={class:"w-full text-center bg-white py-1 rounded-xl text-gray-600 text-xs"},be={key:0},we={key:1},ke={class:"grid grid-cols-2 gap-4"},$e={class:"grid grid-cols-2 gap-4 mb-1"},Ve={key:0,class:"grid grid-cols-2 gap-4"},Ce={__name:"RaffleTab",props:{raffles:{type:Object,required:!0}},setup(o){const d=q(!1),s=E({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});function y(i){s.raffle_name=i.raffle.name,s.raffle_id=i.raffle_id,Object.assign(s.settings,i.settings),d.value=!0}function v(){s.put(route("clientarea.raffles.update",s.raffle_id),{preserveScroll:!0,onSuccess:()=>{n(),S.success("Rifa actualizada")}})}const n=()=>{s.reset(),d.value=!1};return j(()=>s.settings.date,i=>{i&&(s.settings.min=null,s.settings.max=null)}),(i,f)=>(u(),p(C,null,[a("div",ie,[(u(!0),p(C,null,T(o.raffles,l=>(u(),p("div",oe,[a("div",ue,[a("span",null,h(l.raffle.name),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(R,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",de,[t(e(_),null,{default:r(({active:m})=>[t(e(M),{href:i.route("clientarea.raffles.winning-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(ne),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Ganadores ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(_),null,{default:r(({active:m})=>[t(e(M),{href:i.route("clientarea.raffles.blocked-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(le),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Números bloqueados ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",ce,[t(e(_),null,{default:r(({active:m})=>[t(e(M),{href:i.route("clientarea.raffles.show",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(W),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(_),null,{default:r(({active:m})=>[t(e(M),{href:i.route("clientarea.raffles.reports",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Reportes ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",me,[t(e(_),null,{default:r(({active:m})=>[t(e(M),{href:i.route("clientarea.raffles.availability.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(se),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Horario ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(_),null,{default:r(({active:m})=>[a("button",{onClick:O=>y(l),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(re),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),x(" Configuración ")],10,pe)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",fe,[ge,a("div",ve,[a("span",null,"Super X: "+h(l.settings.super_x?"Activado":"Desactivado"),1),l.settings.general_limit?(u(),p("span",ye," Limite general en venta: C$"+h(l.settings.general_limit),1)):$("",!0),l.settings.individual_limit?(u(),p("span",he," Limite individual en venta: C$"+h(l.settings.individual_limit),1)):$("",!0),l.settings.multiplier?(u(),p("span",xe," Multiplicador: "+h(l.settings.multiplier),1)):$("",!0)])]),a("div",_e,[l.settings.date?(u(),p("span",be," Fecha ")):(u(),p("span",we," Desde "+h(l.settings.min)+" hasta "+h(l.settings.max),1))])]))),256))]),t(A,{show:d.value,title:e(s).raffle_name,onOnCancel:n,onOnSubmit:v},{default:r(()=>[a("div",ke,[t(k,{text:"Limite general C$",modelValue:e(s).settings.general_limit,"onUpdate:modelValue":f[0]||(f[0]=l=>e(s).settings.general_limit=l),type:"number"},null,8,["modelValue"]),t(k,{text:"Limite indiv. C$",modelValue:e(s).settings.individual_limit,"onUpdate:modelValue":f[1]||(f[1]=l=>e(s).settings.individual_limit=l),type:"number"},null,8,["modelValue"])]),a("div",$e,[t(L,{checked:e(s).settings.super_x,"onUpdate:checked":f[2]||(f[2]=l=>e(s).settings.super_x=l),text:"Super X"},null,8,["checked"]),t(L,{checked:e(s).settings.date,"onUpdate:checked":f[3]||(f[3]=l=>e(s).settings.date=l),text:"Fecha"},null,8,["checked"])]),e(s).settings.date?$("",!0):(u(),p("div",Ve,[t(k,{text:"Número inicio",modelValue:e(s).settings.min,"onUpdate:modelValue":f[4]||(f[4]=l=>e(s).settings.min=l),required:"",type:"number"},null,8,["modelValue"]),t(k,{text:"Número final",modelValue:e(s).settings.max,"onUpdate:modelValue":f[5]||(f[5]=l=>e(s).settings.max=l),required:"",type:"number"},null,8,["modelValue"])])),t(k,{text:"Multiplicador",modelValue:e(s).settings.multiplier,"onUpdate:modelValue":f[6]||(f[6]=l=>e(s).settings.multiplier=l),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])],64))}};function Se(){const o=E({id:"",name:"",email:" ",password:"",password_confirmation:""});function d(n=null){if(o.password!==o.password_confirmation){S.error("Las contraseñas no coinciden");return}o.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Guardado correctamente"),n&&n()},onError:i=>{S.error(i.message),n&&n()}})}function s(n=null){o.put(route("clientarea.sellers.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),n&&n()}})}function y(n=null){o.put(route("clientarea.toggle-status",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),n&&n()}})}function v(n){K({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{o.delete(route("clientarea.sellers.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Eliminado correctamente")}})}})}return{form:o,store:d,update:s,destroy:v,toggleStatus:y}}const Me={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ie={class:"bg-card rounded-xl p-2 w-full"},Ne={class:"flex gap-2 w-full"},qe=a("div",{class:"bg-white rounded-xl w-1/3 px-1"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),Te={class:"text-xs text-gray-600 w-full h-full"},Ue={class:"flex justify-between w-full"},je={class:"text-primary"},Oe={class:"px-1 py-1"},ze={class:"px-1 py-1"},Le=["onClick"],Ee=["onClick"],Re=["onClick"],Ae={class:"flex flex-col"},Be={class:"text-base"},Fe={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(o){const d=o,s=q(!1),y=q(!0),{store:v,update:n,form:i,toggleStatus:f,destroy:l}=Se(),m=b=>{i.id=b,f()},O=()=>{y.value?v(U):n(U)},U=()=>{i.reset(),y.value=!0,s.value=!1},H=b=>{y.value=!1,i.id=b.id,i.name=b.name,i.email=b.email,s.value=!0};return j(()=>d.triggerNew,b=>{y.value=!0,s.value=!0}),(b,V)=>(u(),p(C,null,[a("div",Me,[(u(!0),p(C,null,T(o.sellers,g=>(u(),p("div",Ie,[a("div",Ne,[qe,a("div",Te,[a("div",Ue,[a("span",je,h(g.status=="enabled"?"Activo":"Inactivo"),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(R,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",Oe,[t(e(_),null,{default:r(({active:w})=>[t(e(M),{href:b.route("clientarea.sellers.show",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(W),{class:"mr-2 h-5 w-5 text-primary"}),x(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(_),null,{default:r(({active:w})=>[t(e(M),{href:b.route("clientarea.sellers.balance",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:"mr-2 h-5 w-5 text-primary"}),x(" Caja ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",ze,[t(e(_),null,{default:r(({active:w})=>[a("button",{onClick:z=>m(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(ae),{class:"mr-2 h-5 w-5 text-primary"}),x(" Bloquear ")],10,Le)]),_:2},1024),t(e(_),null,{default:r(({active:w})=>[a("button",{onClick:z=>H(g),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(J),{class:"mr-2 h-5 w-5 text-primary"}),x(" Editar ")],10,Ee)]),_:2},1024),t(e(_),null,{default:r(({active:w})=>[a("button",{onClick:z=>e(l)(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(P),{class:"mr-2 h-5 w-5 text-primary"}),x(" Eliminar ")],10,Re)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",Ae,[a("span",Be,h(g.name),1),a("span",null,h(g.email),1)])])])]))),256))]),t(A,{show:s.value,title:"Vendedor",onOnCancel:U,onOnSubmit:O},{default:r(()=>[t(k,{text:"Nombre",modelValue:e(i).name,"onUpdate:modelValue":V[0]||(V[0]=g=>e(i).name=g),required:""},null,8,["modelValue"]),t(k,{text:"Correo",modelValue:e(i).email,"onUpdate:modelValue":V[1]||(V[1]=g=>e(i).email=g),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),y.value?(u(),p(C,{key:0},[t(k,{text:"Contraseña",modelValue:e(i).password,"onUpdate:modelValue":V[2]||(V[2]=g=>e(i).password=g),type:"password",required:""},null,8,["modelValue"]),t(k,{text:"Confirmar contraseña",modelValue:e(i).password_confirmation,"onUpdate:modelValue":V[3]||(V[3]=g=>e(i).password_confirmation=g),type:"password",required:""},null,8,["modelValue"])],64)):$("",!0)]),_:1},8,["show"])],64))}},De={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},Ge={key:0,class:"w-full text-center text-gray-400"},We={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4"},Xe={__name:"TransactionTab",props:{transactions:{type:Object,required:!0},dailyTransactions:{type:Number,required:!0}},setup(o){const s=[{title:"Ventas del dia",value:"C$"+o.dailyTransactions.toLocaleString(),icon:ee}];return(y,v)=>(u(),p(C,null,[a("div",De,[(u(),p(C,null,T(s,n=>t(Z,{stat:n,key:n.title},null,8,["stat"])),64))]),o.transactions.data.length==0?(u(),p("div",Ge," No hay transacciones ")):(u(),p("div",We,[(u(!0),p(C,null,T(o.transactions.data,n=>(u(),N(Y,{transaction:n,key:n.id},null,8,["transaction"]))),128))])),t(Q,{links:o.transactions.links},null,8,["links"])],64))}},He={class:"title"},ct={__name:"Index",props:{raffles:{type:Object,required:!0},sellers:{type:Object,required:!0},transactions:{type:Object,required:!0},daily_transactions:{type:Number,required:!0}},setup(o){const d=q(localStorage.getItem("selectedTab")||"raffle"),s=q(!1);return j(()=>d.value,y=>{localStorage.setItem("selectedTab",y)}),(y,v)=>(u(),N(te,{title:"Inicio"},{options:r(()=>[a("button",{type:"button",class:c(d.value=="raffle"?"active-tab":"inactive-tab"),onClick:v[0]||(v[0]=n=>d.value="raffle")}," Rifas ",2),a("button",{type:"button",class:c(d.value=="seller"?"active-tab":"inactive-tab"),onClick:v[1]||(v[1]=n=>d.value="seller")}," Vendedores ",2),a("button",{type:"button",class:c(d.value=="transaction"?"active-tab":"inactive-tab"),onClick:v[2]||(v[2]=n=>d.value="transaction")}," Transacciones ",2)]),header:r(()=>[a("span",He,h(d.value=="raffle"?"Rifas":d.value=="seller"?"Vendedores":"Transacciones"),1),d.value=="seller"?(u(),p("button",{key:0,onClick:v[3]||(v[3]=n=>s.value=!s.value),type:"button",class:"simple-button"}," Nuevo ")):$("",!0)]),default:r(()=>[d.value=="raffle"?(u(),N(Ce,{key:0,raffles:o.raffles},null,8,["raffles"])):$("",!0),d.value=="seller"?(u(),N(Fe,{key:1,sellers:o.sellers,triggerNew:s.value},null,8,["sellers","triggerNew"])):$("",!0),d.value=="transaction"?(u(),N(Xe,{key:2,transactions:o.transactions,dailyTransactions:o.daily_transactions},null,8,["transactions","dailyTransactions"])):$("",!0)]),_:1}))}};export{ct as default};
