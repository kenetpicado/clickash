import{O as x,r as y,T as b,o as i,g as v,e as _,b as e,t as l,c as m,a as r,u as s,F as g,w as h}from"./app-b6b7e460.js";import{_ as V}from"./ClientareaLayout-cfdfc05d.js";import{_ as u}from"./InputForm-222676cb.js";import{t as k}from"./toast-9cfbfd04.js";import{I as C}from"./IconList-a023fffa.js";import{c as w}from"./IconUser-14aeb8a1.js";import{I}from"./IconUsers-3a6887f7.js";import"./_plugin-vue_export-helper-c27b6911.js";var M=w("record-mail","IconRecordMail",[["path",{d:"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M7 15l10 0",key:"svg-2"}]]);function S(){function o(){x.post(route("logout"))}return{logout:o}}const N=e("span",{class:"title"}," Mi perfil ",-1),q={class:"bg-card p-4 rounded-xl flex flex-col items-center gap-2 mb-4"},B=e("img",{src:"/profile.png",class:"w-20 h-20 object-cover rounded-full",alt:""},null,-1),U={class:"font-bold text-xl"},$={class:"text-sm text-gray-400"},j={class:"flex justify-between items-center mb-4"},A=e("span",null,"Información de la cuenta",-1),E={class:"mb-4"},O={class:"flex items-center gap-4 mb-4"},F={class:"text-gray-400"},P={class:"flex flex-col"},R=e("span",null,"Nombre de la compañía",-1),z={class:"text-gray-400"},D={class:"flex items-center gap-4 mb-4"},G={class:"text-gray-400"},L={class:"flex flex-col"},T=e("span",null,"Correo",-1),H={class:"text-gray-400"},J={class:"flex items-center gap-4 mb-4"},K={class:"text-gray-400"},Q={class:"flex flex-col"},W=e("span",null,"Vendedores",-1),X={class:"text-gray-400"},Y={key:1},Z=["onSubmit"],ee=e("button",{class:"primary-button w-full"}," Guardar ",-1),de={__name:"Index",props:{user:{type:Object,required:!0}},setup(o){const c=o,{logout:p}=S(),d=y(!1),n=b({id:c.user.id,name:c.user.name,email:c.user.email,company_name:c.user.company_name});function f(){n.put(route("profile.update",n.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{k.success("Perfil actualizado correctamente")}})}return(te,t)=>(i(),v(V,{title:"Perfil"},{header:_(()=>[N]),default:_(()=>[e("div",q,[B,e("span",U,l(o.user.name),1),e("span",$,l(o.user.role=="owner"?"Administrador":"Vendedor"),1)]),e("div",j,[A,d.value?(i(),m("button",{key:1,onClick:t[1]||(t[1]=a=>d.value=!1),type:"button",class:"simple-button"},"Cancelar")):(i(),m("button",{key:0,onClick:t[0]||(t[0]=a=>d.value=!0),type:"button",class:"simple-button"},"Editar"))]),d.value?(i(),m("div",Y,[e("form",{onSubmit:h(f,["prevent"])},[r(u,{text:"Nombre",modelValue:s(n).name,"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).name=a),required:""},null,8,["modelValue"]),r(u,{text:"Correo",modelValue:s(n).email,"onUpdate:modelValue":t[4]||(t[4]=a=>s(n).email=a),type:"email",required:""},null,8,["modelValue"]),r(u,{text:"Nombre de la empresa",modelValue:s(n).company_name,"onUpdate:modelValue":t[5]||(t[5]=a=>s(n).company_name=a),required:""},null,8,["modelValue"]),ee],40,Z)])):(i(),m(g,{key:0},[e("div",E,[e("div",O,[e("span",F,[r(s(C),{class:"text-primary"})]),e("div",P,[R,e("span",z,l(o.user.company_name??"N/A"),1)])]),e("div",D,[e("span",G,[r(s(M),{class:"text-primary"})]),e("div",L,[T,e("span",H,l(o.user.email),1)])]),e("div",J,[e("span",K,[r(s(I),{class:"text-primary"})]),e("div",Q,[W,e("span",X,l(o.user.sellers_count??0)+" / "+l(o.user.sellers_limit),1)])])]),e("button",{onClick:t[2]||(t[2]=(...a)=>s(p)&&s(p)(...a)),type:"button",class:"secondary-button w-full"}," Cerrar sesión ")],64))]),_:1}))}};export{de as default};
