import{_ as C}from"./AddButton-811270f9.js";import{_ as D}from"./AppLayout-09e4b925.js";import F from"./Availability-7ca8f338.js";import L from"./BlockedNumber-cb744125.js";import R from"./Transaction-0564dc34.js";import U from"./WinningNumber-0dd520a8.js";import{_ as $}from"./StatCard-1510ec95.js";import{C as S}from"./Carbon-e7b34390.js";import{_ as H}from"./SelectForm-ce08aadd.js";import P from"./DailySalesResume-220b2014.js";import{r as v,q as T,k as M,o as r,A as i,v as w,b as s,t as V,d as u,n as m,c as n,F as d,s as h,a as f,u as j,O as z}from"./app-f9f355ec.js";import{I as q}from"./IconCurrencyDollar-15b8fce9.js";import{c as A}from"./createVueComponent-3b75edfc.js";import"./IconUsers-738e2dea.js";import"./TableSection-5fcb64cc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FormModal-68566da5.js";import"./InputForm-644dc0a9.js";import"./helpers-5510dcfb.js";import"./toast-fbcec4aa.js";import"./IconEdit-d10a983d.js";import"./IconTrash-18dca70f.js";import"./ThePaginator-15e9e9b9.js";var E=A("currency-dollar-off","IconCurrencyDollarOff",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4m-2.557 1.431a3 3 0 0 0 2.557 4.569h2m4.564 4.558a3 3 0 0 1 -2.564 1.442h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);const G={class:"title"},J={class:"flex gap-3 overflow-x-auto hide-scrollbar mb-4"},K={class:"grid grid-cols-4 gap-4 mb-4"},Q={class:"grid grid-cols-4 gap-4 mb-4"},W={class:"grid grid-cols-4 gap-4"},X={key:0,value:"",selected:""},Y={key:1,value:"",disabled:"",selected:""},Z=["value"],ee={class:"grid grid-cols-4 gap-4"},he={__name:"Show",props:{raffle:{type:Object,required:!0},transactions:{type:Object,required:!0},blockeds:{type:Object,required:!0},availability:{type:Object,required:!0},results:{type:Object,required:!0},winners:{type:Object,required:!0},settings:{type:Object,required:!0},daily_transactions:{type:Number,required:!0},daily_sales_resume:{type:Object,required:!0}},setup(l){const c=l,x=[{name:"Inicio",route:route("clientarea.index")}],a=v(localStorage.getItem("currentTab")||0),b=v(!1),y=v(!1),g=v(!1),p=v(null);T(a,o=>{localStorage.setItem("currentTab",o)});const O=c.availability.filter(o=>o.order==new Date().getDay()),k=M(()=>O.length==0?[]:O[0].blocked_hours),I=M(()=>[{title:"Ventas del dia",value:"C$"+c.daily_transactions.toLocaleString(),icon:q},{title:"Premios del dia",value:"C$"+c.winners.reduce((o,e)=>o+parseFloat(e.prize),0).toLocaleString(),icon:E}]),N=M(()=>c.results.map(o=>({title:S.create().setTime(o.hour).getTimeFormat(),value:o.number,icon:q})));T(()=>p.value,o=>{z.get(route("clientarea.raffles.show",c.raffle.id),{hour:o},{preserveState:!0,preserveScroll:!0,only:["daily_sales_resume"]})});const _=new URLSearchParams(window.location.search);return _.get("hour")&&(p.value=_.get("hour")),(o,e)=>(r(),i(D,{title:"Rifa",breads:x},{header:w(()=>[s("span",G,V(l.raffle.name),1),a.value==1?(r(),i(C,{key:0,onClick:e[0]||(e[0]=t=>b.value=!0)})):u("",!0),a.value==2?(r(),i(C,{key:1,onClick:e[1]||(e[1]=t=>y.value=!0)})):u("",!0),a.value==3?(r(),i(C,{key:2,onClick:e[2]||(e[2]=t=>g.value=!0)})):u("",!0)]),default:w(()=>[s("div",J,[s("div",{class:m(a.value==0?"active-tab":"inactive-tab"),onClick:e[3]||(e[3]=t=>a.value=0),role:"button"}," Ventas ",2),s("div",{class:m(a.value==1?"active-tab":"inactive-tab"),onClick:e[4]||(e[4]=t=>a.value=1),role:"button"}," Bloqueados ",2),s("div",{class:m(a.value==2?"active-tab":"inactive-tab"),onClick:e[5]||(e[5]=t=>a.value=2),role:"button"}," Horario ",2),s("div",{class:m(a.value==3?"active-tab":"inactive-tab"),onClick:e[6]||(e[6]=t=>a.value=3),role:"button"}," Resultados ",2),s("div",{class:m(a.value==4?"active-tab":"inactive-tab"),onClick:e[7]||(e[7]=t=>a.value=4),role:"button"}," Reporte de ventas ",2)]),a.value==0?(r(),n(d,{key:0},[s("div",K,[(r(!0),n(d,null,h(I.value,t=>(r(),i($,{stat:t,key:t.title},null,8,["stat"]))),128))]),f(R,{transactions:l.transactions},null,8,["transactions"])],64)):u("",!0),a.value==1?(r(),i(L,{key:1,blockeds:l.blockeds,raffle:l.raffle,openModal:b.value,"onUpdate:openModal":e[8]||(e[8]=t=>b.value=t)},null,8,["blockeds","raffle","openModal"])):u("",!0),a.value==2?(r(),i(F,{key:2,availability:l.availability,raffle:l.raffle,openModal:y.value,"onUpdate:openModal":e[9]||(e[9]=t=>y.value=t)},null,8,["availability","raffle","openModal"])):u("",!0),a.value==3?(r(),n(d,{key:3},[s("div",Q,[(r(!0),n(d,null,h(N.value,t=>(r(),i($,{stat:t,key:t.title},null,8,["stat"]))),128))]),f(U,{results:l.results,raffle:l.raffle,openModal:g.value,"onUpdate:openModal":e[10]||(e[10]=t=>g.value=t),hours:k.value,winners:l.winners,settings:l.settings},null,8,["results","raffle","openModal","hours","winners","settings"])],64)):u("",!0),a.value==4?(r(),n(d,{key:4},[s("div",W,[f(H,{modelValue:p.value,"onUpdate:modelValue":e[11]||(e[11]=t=>p.value=t),text:"Turno",required:""},{default:w(()=>[k.value.length>0?(r(),n("option",X,"Ninguno")):(r(),n("option",Y,"No hay dias disponibles")),(r(!0),n(d,null,h(k.value,t=>(r(),n("option",{value:t},V(j(S).create().setTime(t).getTimeFormat()),9,Z))),256))]),_:1},8,["modelValue"])]),s("div",ee,[f($,{stat:{title:"Total",value:"C$"+l.daily_sales_resume.reduce((t,B)=>t+B.total,0).toLocaleString(),icon:j(q)}},null,8,["stat"])]),f(P,{sales:l.daily_sales_resume},null,8,["sales"])],64)):u("",!0)]),_:1}))}};export{he as default};
