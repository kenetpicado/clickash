import{_ as $}from"./AppLayout-8f705a52.js";import{T as O}from"./TableSection-559f2e1e.js";import{_ as j}from"./AddButton-642dffe0.js";import{_ as T}from"./FormModal-0cf9a455.js";import{_ as m}from"./InputForm-af852081.js";import{T as A,r as S,o as r,e as U,f as i,a,c as u,h as w,F as _,d as f,u as s,b as o,t as n,j as B,i as E}from"./app-d3096396.js";import{_ as g}from"./SelectForm-9d3d7a05.js";import{t as x}from"./toast-9709185b.js";import{c as P,I as F}from"./helpers-1b336913.js";import{I as R}from"./IconEye-47c5cc3d.js";import{I as H}from"./IconPencil-b25a6c20.js";import"./_plugin-vue_export-helper-c27b6911.js";function L(){const d=A({id:"",name:"",email:"",password:"",password_confirmation:"",sellers_limit:5,company_name:"",role:"owner",status:"enabled"});function y(t=null){d.post(route("dashboard.users.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x.success("User created successfully"),t&&t()}})}function h(t=null){d.put(route("dashboard.users.update",d.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x.success("User updated successfully"),t&&t()}})}function V(t){P({message:"Are you sure you want to delete this user?",onConfirm:()=>{d.delete(route("dashboard.users.destroy",t),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x.success("User deleted successfully")}})}})}return{form:d,store:y,update:h,destroy:V}}const M=o("span",{class:"title"}," Users ",-1),z=o("th",null,"ID",-1),D=o("th",null,"Nombre",-1),G=o("th",null,"Company",-1),J=o("th",null,"Sellers",-1),K=o("th",null,"Role",-1),Q=o("th",null,"Active",-1),W=o("th",null,"Status",-1),X=o("th",null,"Accciones",-1),Y={class:"hover:bg-gray-50"},Z={class:"text-gray-400 mt-2"},ee={key:0,class:"badge-blue uppercase"},te={key:0,class:"badge-green"},se={key:1,class:"badge-red"},oe={class:"uppercase"},le={class:"flex gap-2 text-gray-400"},ae={key:0},re=o("td",{colspan:"6",class:"text-center"},"No data to display",-1),ne=[re],ue=["value"],de=["value"],xe={__name:"Index",props:{users:{type:Object,required:!0},roles:{type:Object,required:!0},statuses:{type:Object,required:!0}},setup(d){const{destroy:y,store:h,update:V,form:t}=L(),k=[{name:"Home",route:route("dashboard.users.index")},{name:"Users",route:route("dashboard.users.index")}],c=S(!0),p=S(!1);function C(v){Object.assign(t,v),c.value=!1,p.value=!0}function N(){c.value?h(b):V(b)}const b=()=>{t.reset(),p.value=!1,c.value=!0};return(v,l)=>(r(),U($,{title:"Users",breads:k},{header:i(()=>[M,a(j,{onClick:l[0]||(l[0]=e=>p.value=!0)})]),default:i(()=>[a(O,null,{header:i(()=>[z,D,G,J,K,Q,W,X]),body:i(()=>[(r(!0),u(_,null,w(d.users,(e,q)=>(r(),u("tr",Y,[o("td",null,n(q+1),1),o("td",null,[B(n(e.name)+" ",1),o("div",Z,n(e.email),1)]),o("td",null,n(e.company_name),1),o("td",null,n(e.sellers_count)+" / "+n(e.sellers_limit),1),o("td",null,[e.role?(r(),u("span",ee,n(e.role),1)):f("",!0)]),o("td",null,[e.online=="Now"?(r(),u("span",te,n(e.online),1)):(r(),u("span",se,n(e.online),1))]),o("td",null,[o("span",oe,n(e.status),1)]),o("td",null,[o("div",le,[a(s(E),{href:v.route("dashboard.users.show",e.id)},{default:i(()=>[a(s(R))]),_:2},1032,["href"]),a(s(H),{role:"button",onClick:I=>C(e)},null,8,["onClick"]),a(s(F),{role:"button",onClick:I=>s(y)(e.id)},null,8,["onClick"])])])]))),256)),d.users.length==0?(r(),u("tr",ae,ne)):f("",!0)]),_:1}),a(T,{show:p.value,title:"User",onOnCancel:b,onOnSubmit:N},{default:i(()=>[a(m,{text:"Name",modelValue:s(t).name,"onUpdate:modelValue":l[1]||(l[1]=e=>s(t).name=e),required:""},null,8,["modelValue"]),a(m,{text:"Email",modelValue:s(t).email,"onUpdate:modelValue":l[2]||(l[2]=e=>s(t).email=e),type:"email",required:""},null,8,["modelValue"]),a(m,{text:"Company name",modelValue:s(t).company_name,"onUpdate:modelValue":l[3]||(l[3]=e=>s(t).company_name=e),required:""},null,8,["modelValue"]),c.value?(r(),u(_,{key:0},[a(m,{text:"Password",modelValue:s(t).password,"onUpdate:modelValue":l[4]||(l[4]=e=>s(t).password=e),type:"password",required:""},null,8,["modelValue"]),a(m,{text:"Password confirmation",modelValue:s(t).password_confirmation,"onUpdate:modelValue":l[5]||(l[5]=e=>s(t).password_confirmation=e),type:"password",required:""},null,8,["modelValue"])],64)):f("",!0),a(m,{text:"Sellers limit",modelValue:s(t).sellers_limit,"onUpdate:modelValue":l[6]||(l[6]=e=>s(t).sellers_limit=e),type:"number"},null,8,["modelValue"]),a(g,{modelValue:s(t).role,"onUpdate:modelValue":l[7]||(l[7]=e=>s(t).role=e),text:"Role"},{default:i(()=>[(r(!0),u(_,null,w(d.roles,e=>(r(),u("option",{value:e},n(e),9,ue))),256))]),_:1},8,["modelValue"]),c.value?f("",!0):(r(),U(g,{key:1,modelValue:s(t).status,"onUpdate:modelValue":l[8]||(l[8]=e=>s(t).status=e),text:"Status"},{default:i(()=>[(r(!0),u(_,null,w(d.statuses,e=>(r(),u("option",{value:e},n(e),9,de))),256))]),_:1},8,["modelValue"]))]),_:1},8,["show"])]),_:1}))}};export{xe as default};
