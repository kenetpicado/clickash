import{_ as g}from"./InputForm-7d88ca6a.js";import{_ as k}from"./FormModal-578f1fd3.js";import{_ as x}from"./ClientareaLayout-ce97ec01.js";import{c as V}from"./helpers-9d6b9840.js";import{t as d}from"./toast-ce812ad7.js";import{T as h,r as C,o as l,k as S,g as _,b as s,c as o,F as $,f as q,a as n,u as r,t as f,d as b,O as B}from"./app-5a1c8b3e.js";import{I as N}from"./IconTrash-a85cadc6.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./createVueComponent-d6d00449.js";const O=s("span",{class:"title"}," Bloqueados ",-1),w={key:0,class:"w-full text-center text-gray-400"},L={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4"},j={class:"bg-card p-3 rounded-xl text-gray-600"},D={class:"flex justify-between items-center mb-2"},E={class:"text-xl font-bold"},U={class:"grid grid-cols-2 gap-2"},A={key:0},F=s("strong",{class:"text-sm"},"Limite general C$",-1),I={key:1},T=s("strong",{class:"text-sm"},"Limite indiv. C$",-1),M={class:"grid grid-cols-2 gap-2"},Y={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(u){const m=u,t=h({number:null,settings:{general_limit:null,individual_limit:null}}),c=C(!1),v=()=>{if(!t.settings.general_limit&&!t.settings.individual_limit){d.error("Debe ingresar al menos un limite");return}if(m.blockeds.find(a=>a.number==t.number)){d.error("Numero ya bloqueado");return}t.post(route("clientarea.raffles.blocked-numbers.store",m.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),d.success("Agregado correctamente")}})},p=()=>{t.reset(),c.value=!1},y=a=>{V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{B.delete(route("clientarea.raffles.blocked-numbers.destroy",[m.raffle.id,a]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})};return(a,i)=>(l(),S(x,{title:"Bloqueados"},{header:_(()=>[O,s("button",{type:"button",class:"simple-button",onClick:i[0]||(i[0]=e=>c.value=!0)}," Nuevo ")]),default:_(()=>[u.blockeds.length==0?(l(),o("div",w," No hay dígitos bloqueados ")):(l(),o("div",L,[(l(!0),o($,null,q(u.blockeds,e=>(l(),o("div",j,[s("div",D,[s("span",E,f(e.number),1),n(r(N),{class:"text-primary",onClick:z=>y(e.id)},null,8,["onClick"])]),s("div",U,[e.settings.general_limit?(l(),o("div",A,[F,s("div",null," C$"+f(e.settings.general_limit),1)])):b("",!0),e.settings.individual_limit?(l(),o("div",I,[T,s("div",null," C$"+f(e.settings.individual_limit),1)])):b("",!0)])]))),256))])),n(k,{show:c.value,title:"Bloquear",onOnCancel:p,onOnSubmit:v},{default:_(()=>[n(g,{text:"Dígito",modelValue:r(t).number,"onUpdate:modelValue":i[1]||(i[1]=e=>r(t).number=e),type:"number",required:""},null,8,["modelValue"]),s("div",M,[n(g,{text:"Limite individual",modelValue:r(t).settings.individual_limit,"onUpdate:modelValue":i[2]||(i[2]=e=>r(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),n(g,{text:"Limite general",modelValue:r(t).settings.general_limit,"onUpdate:modelValue":i[3]||(i[3]=e=>r(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{Y as default};
