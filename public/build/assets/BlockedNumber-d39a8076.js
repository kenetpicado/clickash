import{_ as m}from"./InputForm-2de842c3.js";import{_ as y}from"./FormModal-ee1967ec.js";import{_ as k}from"./ClientareaLayout-e086a82e.js";import{c as V}from"./helpers-0b19fc60.js";import{t as d}from"./toast-36f5acc7.js";import{T as x,l as S,o as s,j as b,e as c,b as l,t as q,c as f,F as B,k as N,a as n,u as o,O}from"./app-153caa5f.js";import{_ as h}from"./BlockedNumber-d92cc83f.js";import"./IconUser-af4f96d7.js";const E={class:"title"},$={key:0,class:"w-full text-center text-gray-400"},j={key:1,class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},w={class:"grid grid-cols-2 gap-2"},C=l("p",{class:"text-primary"},[l("small",null," Nota: Recuerde ingresar el dígito con los ceros necesarios según la numeración de la rifa, por ejemplo, 01, 001, etc. De lo contrario, el bloqueo no se realizará correctamente. En cuanto a las fechas, utilice el formato dd/mm. ")],-1),T={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(a){const g=a,t=x({number:null,settings:{general_limit:null,individual_limit:null}}),u=S(!1),_=()=>{t.post(route("clientarea.raffles.blocked-numbers.store",g.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),d.success("Agregado correctamente")},onError:i=>{d.error(i.message)}})},p=()=>{t.reset(),u.value=!1},v=i=>{V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{O.delete(route("clientarea.raffles.blocked-numbers.destroy",[g.raffle.id,i]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})};return(i,r)=>(s(),b(k,{title:"Bloqueados"},{header:c(()=>[l("span",E,q(a.raffle.name)+": Bloqueados ",1),l("button",{type:"button",class:"simple-button",onClick:r[0]||(r[0]=e=>u.value=!0)}," Nuevo ")]),default:c(()=>[a.blockeds.length==0?(s(),f("div",$," No hay dígitos bloqueados 😥️ ")):(s(),f("div",j,[(s(!0),f(B,null,N(a.blockeds,e=>(s(),b(h,{digit:e,key:e.id,onDestroy:v},null,8,["digit"]))),128))])),n(y,{show:u.value,title:"Bloquear",onOnCancel:p,onOnSubmit:_},{default:c(()=>[n(m,{text:"Dígito",modelValue:o(t).number,"onUpdate:modelValue":r[1]||(r[1]=e=>o(t).number=e),type:"number",required:""},null,8,["modelValue"]),l("div",w,[n(m,{text:"Limite individual",modelValue:o(t).settings.individual_limit,"onUpdate:modelValue":r[2]||(r[2]=e=>o(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),n(m,{text:"Limite general",modelValue:o(t).settings.general_limit,"onUpdate:modelValue":r[3]||(r[3]=e=>o(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])]),C]),_:1},8,["show"])]),_:1}))}};export{T as default};
