import{_ as u}from"./InputForm-e51ec3dd.js";import{_ as k}from"./FormModal-b18226cb.js";import{_ as y}from"./ClientareaLayout-7de5277d.js";import{c as V}from"./helpers-c0f5813a.js";import{t as d}from"./toast-390b6893.js";import{T as S,r as x,o as l,k as b,f as m,d as c,t as B,c as f,F as q,l as O,b as i,u as s,O as N}from"./app-8c3816dc.js";import{_ as $}from"./BlockedNumber-ca1fa8f5.js";import"./Modal-db9d1e49.js";import"./IconUser-d1921014.js";const w={class:"title"},C={key:0,class:"w-full text-center text-gray-400"},E={key:1,class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},h={class:"grid grid-cols-2 gap-2"},G={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(o){const g=o,t=S({number:null,settings:{general_limit:null,individual_limit:null}}),n=x(!1),_=()=>{t.post(route("clientarea.raffles.blocked-numbers.store",g.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),d.success("Agregado correctamente")},onError:a=>{d.error(a.message)}})},p=()=>{t.reset(),n.value=!1},v=a=>{V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{N.delete(route("clientarea.raffles.blocked-numbers.destroy",[g.raffle.id,a]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})};return(a,r)=>(l(),b(y,{title:"Bloqueados"},{header:m(()=>[c("span",w,B(o.raffle.name)+": Bloqueados ",1),c("button",{type:"button",class:"simple-button",onClick:r[0]||(r[0]=e=>n.value=!0)}," Nuevo ")]),default:m(()=>[o.blockeds.length==0?(l(),f("div",C," No hay dígitos bloqueados 😥️ ")):(l(),f("div",E,[(l(!0),f(q,null,O(o.blockeds,e=>(l(),b($,{digit:e,key:e.id,onDestroy:v},null,8,["digit"]))),128))])),i(k,{show:n.value,title:"Bloquear",onOnCancel:p,onOnSubmit:_},{default:m(()=>[i(u,{text:"Dígito",modelValue:s(t).number,"onUpdate:modelValue":r[1]||(r[1]=e=>s(t).number=e),required:""},null,8,["modelValue"]),c("div",h,[i(u,{text:"Limite individual",modelValue:s(t).settings.individual_limit,"onUpdate:modelValue":r[2]||(r[2]=e=>s(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),i(u,{text:"Limite general",modelValue:s(t).settings.general_limit,"onUpdate:modelValue":r[3]||(r[3]=e=>s(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{G as default};
