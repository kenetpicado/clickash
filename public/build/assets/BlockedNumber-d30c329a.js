import{_ as m}from"./InputForm-90ce5600.js";import{_ as y}from"./FormModal-33a743fe.js";import{_ as k}from"./ClientareaLayout-2fdc5cbb.js";import{c as V}from"./helpers-86964786.js";import{t as d}from"./toast-9cf9c75e.js";import{T as x,r as S,o as s,k as b,f as c,d as l,t as q,c as f,F as B,l as N,b as n,u as o,O}from"./app-e27dafda.js";import{_ as h}from"./BlockedNumber-078d7d9d.js";import"./Modal-9e846b64.js";import"./IconUser-0812fc5e.js";const E={class:"title"},$={key:0,class:"w-full text-center text-gray-400"},w={key:1,class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},C={class:"grid grid-cols-2 gap-2"},D=l("p",{class:"text-primary"},[l("small",null," Nota: Recuerde ingresar el dígito con los ceros necesarios según la numeración de la rifa, por ejemplo, 01, 001, etc. De lo contrario, el bloqueo no se realizará correctamente. En cuanto a las fechas, utilice el formato dd/mm. ")],-1),G={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(a){const g=a,t=x({number:null,settings:{general_limit:null,individual_limit:null}}),u=S(!1),_=()=>{t.post(route("clientarea.raffles.blocked-numbers.store",g.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),d.success("Agregado correctamente")},onError:i=>{d.error(i.message)}})},p=()=>{t.reset(),u.value=!1},v=i=>{V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{O.delete(route("clientarea.raffles.blocked-numbers.destroy",[g.raffle.id,i]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})};return(i,r)=>(s(),b(k,{title:"Bloqueados"},{header:c(()=>[l("span",E,q(a.raffle.name)+": Bloqueados ",1),l("button",{type:"button",class:"simple-button",onClick:r[0]||(r[0]=e=>u.value=!0)}," Nuevo ")]),default:c(()=>[a.blockeds.length==0?(s(),f("div",$," No hay dígitos bloqueados 😥️ ")):(s(),f("div",w,[(s(!0),f(B,null,N(a.blockeds,e=>(s(),b(h,{digit:e,key:e.id,onDestroy:v},null,8,["digit"]))),128))])),n(y,{show:u.value,title:"Bloquear",onOnCancel:p,onOnSubmit:_},{default:c(()=>[n(m,{text:"Dígito",modelValue:o(t).number,"onUpdate:modelValue":r[1]||(r[1]=e=>o(t).number=e),type:"number",required:""},null,8,["modelValue"]),l("div",C,[n(m,{text:"Limite individual",modelValue:o(t).settings.individual_limit,"onUpdate:modelValue":r[2]||(r[2]=e=>o(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),n(m,{text:"Limite general",modelValue:o(t).settings.general_limit,"onUpdate:modelValue":r[3]||(r[3]=e=>o(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])]),D]),_:1},8,["show"])]),_:1}))}};export{G as default};
