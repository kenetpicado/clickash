import{_ as I}from"./AddButton-fc4b59f8.js";import{_ as b}from"./Checkbox-b153ea6b.js";import{_ as d}from"./InputForm-1c7c7af7.js";import{_ as U}from"./FormModal-d5549557.js";import{T as j}from"./TableSection-84137b40.js";import{T as w,r as h,g as C,o as c,e as R,f,a,c as g,h as $,b as n,t as x,u as l,F as B,d as v}from"./app-e6f78d54.js";import{t as m}from"./toast-4f7b2110.js";import{_ as L}from"./AppLayout-454c79c4.js";import{I as M}from"./IconPencil-f12f844d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./createVueComponent-48ddbecd.js";import"./IconChevronRight-769b3085.js";function O(){const o=w({id:"",name:"",image:"",settings:{min:null,max:null,date:!1,super_x:!1,general_limit:null,individual_limit:null}});function p(i=null){o.post(route("dashboard.raffles.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Raffle created successfully"),i&&i()}})}function u(i=null){o.put(route("dashboard.raffles.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Raffle updated successfully"),i&&i()}})}return{form:o,store:p,update:u}}const A=n("span",{class:"title"}," Raffles ",-1),D=n("th",null,"ID",-1),F=n("th",null,"Image",-1),G=n("th",null,"Nombre",-1),P=n("th",null,"Settings",-1),Q=n("th",null,"Accciones",-1),T={class:"hover:bg-gray-50"},q=["src"],E={class:"font-bold"},H={class:"flex gap-2 text-gray-400"},J={key:0},X=n("td",{colspan:"3",class:"text-center"},"No data to display",-1),z=[X],K={key:0,class:"grid grid-cols-2 gap-4"},W={class:"grid grid-cols-2 gap-4"},ce={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(o){const p=[{name:"Home",route:route("dashboard.raffles.index")},{name:"Raffles",route:route("dashboard.raffles.index")}],u=h(!1),i=h(!0),{store:V,update:k,form:e}=O();function N(r){Object.assign(e,r),u.value=!0,i.value=!1}C(()=>e.settings.date,r=>{r&&(e.settings.min=null,e.settings.max=null)});function y(){if(isNaN(e.settings.min)){m.error("Min must be a number");return}if(isNaN(e.settings.max)){m.error("Max must be a number");return}if(isNaN(e.settings.general_limit)){m.error("General Limit must be a number");return}if(isNaN(e.settings.individual_limit)){m.error("Individual Limit must be a number");return}i.value?V(_):k(_)}const _=()=>{e.reset(),u.value=!1,i.value=!0};function S(r){return r||"https://media.istockphoto.com/id/1211282980/es/vector/ganadores-afortunados-girando-tambor-de-la-rifa.jpg?s=612x612&w=0&k=20&c=1jJPxjaVHqPFA_DQGDV3QEBQ6_C3pbhjs8Ies2kR-44="}return(r,s)=>(c(),R(L,{title:"Raffles",breads:p},{header:f(()=>[A,a(I,{onClick:s[0]||(s[0]=t=>u.value=!0)})]),default:f(()=>[a(j,null,{header:f(()=>[D,F,G,P,Q]),body:f(()=>[(c(!0),g(B,null,$(o.raffles,(t,Y)=>(c(),g("tr",T,[n("td",null,x(t.id),1),n("td",null,[n("img",{src:S(t.image),alt:"",class:"w-20 h-20 object-cover rounded-lg"},null,8,q)]),n("td",null,[n("span",E,x(t.name),1)]),n("td",null,[n("pre",null,x(t.settings),1)]),n("td",null,[n("div",H,[a(l(M),{role:"button",onClick:Z=>N(t)},null,8,["onClick"])])])]))),256)),o.raffles.length==0?(c(),g("tr",J,z)):v("",!0)]),_:1}),a(U,{show:u.value,title:"Add",onOnCancel:_,onOnSubmit:y},{default:f(()=>[a(d,{text:"Name",modelValue:l(e).name,"onUpdate:modelValue":s[1]||(s[1]=t=>l(e).name=t)},null,8,["modelValue"]),a(d,{text:"Image",modelValue:l(e).image,"onUpdate:modelValue":s[2]||(s[2]=t=>l(e).image=t),type:"url"},null,8,["modelValue"]),a(b,{checked:l(e).settings.super_x,"onUpdate:checked":s[3]||(s[3]=t=>l(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),a(b,{checked:l(e).settings.date,"onUpdate:checked":s[4]||(s[4]=t=>l(e).settings.date=t),text:"Date"},null,8,["checked"]),l(e).settings.date?v("",!0):(c(),g("div",K,[a(d,{text:"Min",modelValue:l(e).settings.min,"onUpdate:modelValue":s[5]||(s[5]=t=>l(e).settings.min=t)},null,8,["modelValue"]),a(d,{text:"Max",modelValue:l(e).settings.max,"onUpdate:modelValue":s[6]||(s[6]=t=>l(e).settings.max=t)},null,8,["modelValue"])])),n("div",W,[a(d,{text:"General Limit",modelValue:l(e).settings.general_limit,"onUpdate:modelValue":s[7]||(s[7]=t=>l(e).settings.general_limit=t)},null,8,["modelValue"]),a(d,{text:"Individual Limit",modelValue:l(e).settings.individual_limit,"onUpdate:modelValue":s[8]||(s[8]=t=>l(e).settings.individual_limit=t)},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{ce as default};
