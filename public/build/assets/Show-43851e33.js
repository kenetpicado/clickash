import{_ as h,a as k}from"./DropdownItem-b59cd20f.js";import{_ as w}from"./InputForm-37918877.js";import{_ as O}from"./SelectForm-8c0056df.js";import{_ as S}from"./FormModal-7b0f5bbe.js";import{_ as E}from"./ClientareaLayout-5f4f4b74.js";import{I as V,c as j}from"./helpers-aa058c0e.js";import{t as g}from"./toast-1dad5d10.js";import{r as C,T,o,k as $,f as i,d as e,t as r,c as l,l as v,F as y,b as c,u as d,O as I}from"./app-c30d065f.js";import"./IconList-18fe5c59.js";import"./IconUser-29de581c.js";import"./use-resolve-button-type-2d2b00d8.js";import"./Modal-b6dcd1b9.js";const q={class:"title"},R={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 text-gray-600 mb-6"},B={class:"bg-card p-3 rounded-xl"},M={class:"flex items-center justify-between text-sm mb-2"},N={class:"text-gray-400"},D={class:"text-gray-600 grid grid-cols-2 gap-1 text-sm"},F={class:"flex items-center justify-between mb-4 text-gray-600"},P=e("span",{class:"title"}," Movimientos ",-1),U={key:0,class:"text-center text-gray-400 mb-4"},A={key:1,class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},L={class:"bg-card p-3 rounded-xl"},z={class:"flex items-center justify-between"},G={class:"text-gray-400 text-sm mb-2"},H={class:"px-1 py-1"},J={class:"flex items-center justify-between"},K={class:"text-sm text-gray-600 font-bold"},Q={class:"text-xl text-gray-600 font-bold"},W=e("option",{value:"RETIRO"},"RETIRO",-1),X=e("option",{value:"DEPOSITO"},"DEPOSITO",-1),de={__name:"Show",props:{movements:{type:Object,required:!0},seller:{type:Object,required:!0},week:{type:String,required:!0},week_resume:{type:Object,required:!0}},setup(s){const u=s,_=C(!1),a=T({id:null,type:"RETIRO",week:u.week,amount:null});function f(){a.reset(),_.value=!1}function x(){a.post(route("clientarea.sellers.archings.store",u.seller.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f(),g.success("Movimiento agregado")},onError:m=>{console.log(m)}})}function b(m){j({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{I.delete(route("clientarea.sellers.archings.destroy",[u.seller.id,m]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{g.success("Eliminado correctamente")}})}})}return(m,n)=>(o(),$(E,{title:"Caja"},{header:i(()=>{var t,p;return[e("span",q,r(s.seller.name)+": "+r((p=(t=s.week_resume)==null?void 0:t.data)==null?void 0:p.week_label),1)]}),default:i(()=>[e("div",R,[e("div",B,[e("div",M,[e("span",N,r(s.week_resume.data.week_label),1)]),e("div",D,[(o(!0),l(y,null,v(s.week_resume.data.resume,t=>(o(),l("span",null,r(t),1))),256))])])]),e("div",F,[P,e("button",{onClick:n[0]||(n[0]=t=>_.value=!0),type:"button",class:"primary-button"}," Nuevo ")]),s.movements.data.length==0?(o(),l("div",U," No hay movimientos ")):(o(),l("div",A,[(o(!0),l(y,null,v(s.movements.data,t=>(o(),l("div",L,[e("div",z,[e("div",G,r(t.created_at),1),c(k,null,{default:i(()=>[e("div",H,[c(h,{onClick:p=>b(t.id),title:"Eliminar",icon:d(V)},null,8,["onClick","icon"])])]),_:2},1024)]),e("div",J,[e("span",K,r(t.type),1),e("span",Q,r(t.amount),1)])]))),256))])),c(S,{show:_.value,title:"Movimiento",onOnCancel:f,onOnSubmit:x},{default:i(()=>[c(O,{modelValue:d(a).type,"onUpdate:modelValue":n[1]||(n[1]=t=>d(a).type=t),text:"Tipo",required:""},{default:i(()=>[W,X]),_:1},8,["modelValue"]),c(w,{modelValue:d(a).amount,"onUpdate:modelValue":n[2]||(n[2]=t=>d(a).amount=t),type:"number",text:"Cantidad",required:""},null,8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{de as default};
