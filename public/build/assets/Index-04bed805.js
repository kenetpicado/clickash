import{_ as f}from"./Checkbox-7cebcd31.js";import{_ as m}from"./InputForm-e5beccd3.js";import{_ as v}from"./FormModal-6b4dea58.js";import{T as b}from"./TableSection-ff8fb781.js";import{_ as k}from"./AppLayout-142a13e5.js";import{t as V}from"./toast-9fbdbe11.js";import{T as S,g as C,r as $,o as n,e as I,f as r,a,c as o,h as N,b as s,t as u,d as c,u as i,i as U,F as w}from"./app-8e3fa869.js";import{I as L}from"./IconEye-a04e8b4c.js";import{I as M}from"./IconEdit-384145f3.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./createVueComponent-154e72e1.js";import"./IconChevronRight-dcb3cb89.js";const R=s("span",{class:"title"}," Rifas ",-1),q=s("th",null,"Nombre",-1),B=s("th",null,"Multiplicador",-1),E=s("th",null,"Rango",-1),F=s("th",null,"Limite Individual",-1),O=s("th",null,"Limite General",-1),z=s("th",null,"Super X",-1),T=s("th",null,"Acciones",-1),X={class:"badge-primary"},j={key:0},D={key:1},A={key:0,class:"badge-primary"},G={key:1,class:"text-xs text-gray-400"},H={key:0,class:"badge-primary"},J={key:1,class:"text-xs text-gray-400"},K={key:0,class:"badge-primary"},P={class:"flex items-center gap-3"},Q=["onClick"],W={key:0},Y=s("td",{colspan:"2",class:"text-center"},"No hay datos",-1),Z=[Y],ee={key:0,class:"grid grid-cols-2 gap-4"},te={class:"grid grid-cols-2 gap-4"},ge={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(p){const t=S({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});C(()=>t.settings.date,d=>{d&&(t.settings.min=null,t.settings.max=null)});const h=[{name:"Inicio",route:route("clientarea.index")},{name:"Rifas",route:route("clientarea.raffles.index")}],_=$(!1);function x(){t.put(route("clientarea.raffles.update",t.raffle_id),{preserveScroll:!0,onSuccess:()=>{g(),V.success("Rifa actualizada")}})}const g=()=>{t.reset(),_.value=!1};function y(d){t.raffle_name=d.raffle.name,t.raffle_id=d.raffle_id,Object.assign(t.settings,d.settings),_.value=!0}return(d,l)=>(n(),I(k,{title:"Rifas",breads:h},{header:r(()=>[R]),default:r(()=>[a(b,null,{header:r(()=>[q,B,E,F,O,z,T]),body:r(()=>[(n(!0),o(w,null,N(p.raffles,e=>(n(),o("tr",null,[s("td",null,u(e.raffle.name),1),s("td",null,[s("span",X," C$"+u(e.settings.multiplier),1)]),s("td",null,[e.settings.date?(n(),o("div",j," Fecha ")):(n(),o("div",D,u(e.settings.min)+" - "+u(e.settings.max),1))]),s("td",null,[e.settings.individual_limit?(n(),o("div",A," C$"+u(e.settings.individual_limit),1)):(n(),o("div",G," Ninguno "))]),s("td",null,[e.settings.general_limit?(n(),o("div",H," C$"+u(e.settings.general_limit),1)):(n(),o("div",J," Ninguno "))]),s("td",null,[e.settings.super_x?(n(),o("div",K," Super X ")):c("",!0)]),s("td",null,[s("div",P,[a(i(U),{href:d.route("clientarea.raffles.show",e.raffle_id),tooltip:"Detalles"},{default:r(()=>[a(i(L),{size:"22"})]),_:2},1032,["href"]),s("span",{tooltip:"Editar",role:"button",onClick:se=>y(e)},[a(i(M),{size:"22"})],8,Q)])])]))),256)),p.raffles.length==0?(n(),o("tr",W,Z)):c("",!0)]),_:1}),a(v,{show:_.value,title:i(t).raffle_name,onOnCancel:g,onOnSubmit:x},{default:r(()=>[a(f,{checked:i(t).settings.super_x,"onUpdate:checked":l[0]||(l[0]=e=>i(t).settings.super_x=e),text:"Super X"},null,8,["checked"]),a(f,{checked:i(t).settings.date,"onUpdate:checked":l[1]||(l[1]=e=>i(t).settings.date=e),text:"Fecha"},null,8,["checked"]),i(t).settings.date?c("",!0):(n(),o("div",ee,[a(m,{text:"Minimo",modelValue:i(t).settings.min,"onUpdate:modelValue":l[2]||(l[2]=e=>i(t).settings.min=e),required:"",type:"number"},null,8,["modelValue"]),a(m,{text:"Maximo",modelValue:i(t).settings.max,"onUpdate:modelValue":l[3]||(l[3]=e=>i(t).settings.max=e),required:"",type:"number"},null,8,["modelValue"])])),s("div",te,[a(m,{text:"Limite general",modelValue:i(t).settings.general_limit,"onUpdate:modelValue":l[4]||(l[4]=e=>i(t).settings.general_limit=e),type:"number"},null,8,["modelValue"]),a(m,{text:"Limite individual",modelValue:i(t).settings.individual_limit,"onUpdate:modelValue":l[5]||(l[5]=e=>i(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"])]),a(m,{text:"Multiplicador",modelValue:i(t).settings.multiplier,"onUpdate:modelValue":l[6]||(l[6]=e=>i(t).settings.multiplier=e),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])]),_:1}))}};export{ge as default};
