import{T as q,r as b,g as E,o as f,c as _,b as l,F as x,h as j,t as y,a,e as w,u as o,d as B,j as A}from"./app-43fed3a3.js";import{t as m}from"./toast-1e284b8b.js";import{c as L,I as M}from"./helpers-542e13a0.js";import{_ as O}from"./FormModal-397824f6.js";import{_ as g}from"./InputForm-cf1caf49.js";import{_ as p,a as U}from"./Dropdown-41c2bf74.js";import{I as z,a as T}from"./IconReportAnalytics-1327e133.js";import{I as F}from"./IconEdit-04d32411.js";import{c as G}from"./IconUser-b68ead4e.js";import{_ as R}from"./ClientareaLayout-b5bb8135.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconList-2a27a493.js";var H=G("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);function J(){const s=q({id:"",name:"",email:" ",password:"",password_confirmation:""});function u(r=null){if(s.password!==s.password_confirmation){m.error("Las contraseñas no coinciden");return}s.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Guardado correctamente"),r&&r()},onError:t=>{m.error(t.message),r&&r()}})}function d(r=null){s.put(route("clientarea.sellers.update",s.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Actualizado correctamente"),r&&r()}})}function n(r=null){s.put(route("clientarea.toggle-status",s.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Actualizado correctamente"),r&&r()}})}function v(r){L({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{s.delete(route("clientarea.sellers.destroy",r),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.success("Eliminado correctamente")}})}})}return{form:s,store:u,update:d,destroy:v,toggleStatus:n}}const K={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},P={class:"bg-card rounded-xl p-2 w-full"},Q={class:"flex gap-2 w-full"},W=l("div",{class:"bg-white rounded-xl w-1/3 px-1"},[l("img",{src:"/images/vendedor.png",alt:"",class:"w-20 h-20 object-contain"})],-1),X={class:"text-xs text-gray-600 w-full h-full"},Y={class:"flex justify-between w-full"},Z={class:""},D={class:"px-1 py-1"},ee={class:"px-1 py-1"},te={class:"flex flex-col"},se={class:"text-base"},re={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(s){const u=s,d=b(!1),n=b(!0),{store:v,update:r,form:t,toggleStatus:V,destroy:k}=J(),C=i=>{t.id=i,V()},I=()=>{n.value?v(h):r(h)},h=()=>{t.reset(),n.value=!0,d.value=!1},N=i=>{n.value=!1,t.id=i.id,t.name=i.name,t.email=i.email,d.value=!0};E(()=>u.triggerNew,i=>{n.value=!0,d.value=!0});const $={enabled:"Bloquear",disabled:"Desbloquear"};return(i,c)=>(f(),_(x,null,[l("div",K,[(f(!0),_(x,null,j(s.sellers,e=>(f(),_("div",P,[l("div",Q,[W,l("div",X,[l("div",Y,[l("span",Z,y(e.status=="enabled"?"Activo":"Inactivo"),1),a(U,null,{default:w(()=>[l("div",D,[a(p,{href:i.route("clientarea.sellers.show",e.id),title:"Ventas",icon:o(z)},null,8,["href","icon"]),a(p,{href:i.route("clientarea.sellers.archings.index",e.id),title:"Caja",icon:o(T)},null,8,["href","icon"])]),l("div",ee,[a(p,{onClick:S=>N(e),title:"Editar",icon:o(F)},null,8,["onClick","icon"]),a(p,{onClick:S=>C(e.id),title:$[e.status],icon:o(H)},null,8,["onClick","title","icon"]),a(p,{onClick:S=>o(k)(e.id),title:"Eliminar",icon:o(M)},null,8,["onClick","icon"])])]),_:2},1024)]),l("div",te,[l("span",se,y(e.name),1),l("span",null,y(e.email),1)])])])]))),256))]),a(O,{show:d.value,title:"Vendedor",onOnCancel:h,onOnSubmit:I},{default:w(()=>[a(g,{text:"Nombre",modelValue:o(t).name,"onUpdate:modelValue":c[0]||(c[0]=e=>o(t).name=e),required:""},null,8,["modelValue"]),a(g,{text:"Correo",modelValue:o(t).email,"onUpdate:modelValue":c[1]||(c[1]=e=>o(t).email=e),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),n.value?(f(),_(x,{key:0},[a(g,{text:"Contraseña",modelValue:o(t).password,"onUpdate:modelValue":c[2]||(c[2]=e=>o(t).password=e),type:"password",required:""},null,8,["modelValue"]),a(g,{text:"Confirmar contraseña",modelValue:o(t).password_confirmation,"onUpdate:modelValue":c[3]||(c[3]=e=>o(t).password_confirmation=e),type:"password",required:""},null,8,["modelValue"])],64)):B("",!0)]),_:1},8,["show"])],64))}},oe=l("span",{class:"title"}," Vendedores ",-1),ge={__name:"Index",props:{sellers:{type:Object,required:!0}},setup(s){const u=b(!1);return(d,n)=>(f(),A(R,{title:"Inicio"},{header:w(()=>[oe,l("button",{onClick:n[0]||(n[0]=v=>u.value=!u.value),type:"button",class:"simple-button"}," Nuevo ")]),default:w(()=>[a(re,{sellers:s.sellers,triggerNew:u.value},null,8,["sellers","triggerNew"])]),_:1}))}};export{ge as default};
