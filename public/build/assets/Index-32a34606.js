import{O as y,r as b,T as v,o as m,k as h,f,d as e,u as s,t as r,c as d,e as g,b as l,F as k,w as V}from"./app-122945be.js";import{_ as C}from"./ClientareaLayout-3c6b83a4.js";import{_ as p}from"./InputForm-48634172.js";import{t as I}from"./toast-16cb0d70.js";import{I as $}from"./IconList-918c48de.js";import{c as S}from"./IconUser-ab1b88a0.js";import{I as w}from"./IconUsers-42a3aeca.js";var M=S("record-mail","IconRecordMail",[["path",{d:"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M7 15l10 0",key:"svg-2"}]]);function A(){function o(){y.post(route("logout"))}return{logout:o}}function N(o){return`https://ui-avatars.com/api/?name=${o}&size=256&background=2A6049&color=fff`}const U=e("span",{class:"title"}," Perfil ",-1),j={class:"bg-gray-100 p-4 rounded-xl flex flex-col items-center gap-2 mb-4"},q=["src"],B={class:"font-bold text-xl"},E={class:"text-sm text-gray-400"},O={class:"flex justify-between items-center mb-4"},P=e("span",null,"Informaci칩n",-1),z={class:"mb-4"},F={class:"flex items-center gap-4 mb-4"},R={class:"text-gray-400"},D={class:"flex flex-col"},G=e("span",null,"Compa침ia",-1),L={class:"text-gray-400"},T={class:"flex items-center gap-4 mb-4"},H={class:"text-gray-400"},J={class:"flex flex-col"},K=e("span",null,"Correo",-1),Q={class:"text-gray-400"},W={class:"flex items-center gap-4 mb-4"},X={class:"text-gray-400"},Y={class:"flex flex-col"},Z=e("span",null,"Vendedores",-1),ee={class:"text-gray-400"},te={key:1},se=["onSubmit"],oe={class:"flex items-center gap-4 justify-end"},ae=e("button",{class:"primary-button"}," Guardar ",-1),de={__name:"Index",props:{user:{type:Object,required:!0}},setup(o){const i=o,{logout:u}=A(),c=b(!1),n=v({id:i.user.id,name:i.user.name,email:i.user.email,company_name:i.user.company_name});function _(){n.put(route("clientarea.profile.update",n.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{I.success("Perfil actualizado correctamente")}})}return(x,t)=>(m(),h(C,{title:"Perfil"},{header:f(()=>[U]),default:f(()=>[e("div",j,[e("img",{src:s(N)(x.$page.props.auth.name),class:"w-20 h-20 object-cover rounded-full",alt:""},null,8,q),e("span",B,r(o.user.name),1),e("span",E,r(o.user.role=="owner"?"Administrador":"Vendedor"),1)]),e("div",O,[P,c.value?g("",!0):(m(),d("button",{key:0,onClick:t[0]||(t[0]=a=>c.value=!0),type:"button",class:"primary-button"},"Editar"))]),c.value?(m(),d("div",te,[e("form",{onSubmit:V(_,["prevent"]),class:"mb-8"},[l(p,{text:"Nombre",modelValue:s(n).name,"onUpdate:modelValue":t[2]||(t[2]=a=>s(n).name=a),required:""},null,8,["modelValue"]),l(p,{text:"Compa침ia",modelValue:s(n).company_name,"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).company_name=a),required:""},null,8,["modelValue"]),l(p,{text:"Correo",modelValue:s(n).email,"onUpdate:modelValue":t[4]||(t[4]=a=>s(n).email=a),type:"email",required:""},null,8,["modelValue"]),e("div",oe,[e("button",{type:"button",onClick:t[5]||(t[5]=a=>c.value=!1),class:"secondary-button"},"Cancelar"),ae])],40,se)])):(m(),d(k,{key:0},[e("div",z,[e("div",F,[e("span",R,[l(s($),{class:"text-primary"})]),e("div",D,[G,e("span",L,r(o.user.company_name??"N/A"),1)])]),e("div",T,[e("span",H,[l(s(M),{class:"text-primary"})]),e("div",J,[K,e("span",Q,r(o.user.email),1)])]),e("div",W,[e("span",X,[l(s(w),{class:"text-primary"})]),e("div",Y,[Z,e("span",ee,r(o.user.sellers_count??0)+" / "+r(o.user.sellers_limit),1)])])]),e("button",{onClick:t[1]||(t[1]=(...a)=>s(u)&&s(u)(...a)),type:"button",class:"flex primary-button mx-auto mb-6"}," Cerrar sesi칩n ")],64))]),_:1}))}};export{de as default};
