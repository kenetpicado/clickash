import{_ as S}from"./AddButton-45f56cea.js";import{_ as x}from"./Checkbox-3f37b3ef.js";import{_ as d}from"./InputForm-4afd10fc.js";import{_ as w}from"./FormModal-7a2f20d4.js";import{T as $,r as v,e as y,o as f,k as R,g as c,a,b as n,c as _,f as U,F as C,u as i,d as I,t as b}from"./app-a70b3f65.js";import{t as u}from"./toast-bb34ea8c.js";import{_ as L}from"./AppLayout-f5fe84e0.js";import{_ as M,a as B}from"./DropdownItem-3967e151.js";import{I as O}from"./IconEdit-4cae7e30.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconUsers-458cf8c7.js";import"./createVueComponent-ef26742a.js";import"./IconList-f851e203.js";import"./IconSettings-9a3bea19.js";function j(){const r=$({id:"",name:"",image:"",settings:{min:null,max:null,date:!1,super_x:!1,general_limit:null,individual_limit:null}});function p(l=null){r.post(route("dashboard.raffles.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{u.success("Raffle created successfully"),l&&l()}})}function o(l=null){r.put(route("dashboard.raffles.update",r.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{u.success("Raffle updated successfully"),l&&l()}})}return{form:r,store:p,update:o}}const E=n("span",{class:"title"}," Rifa ",-1),F={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},G={class:"bg-card rounded-xl p-2 w-full"},q={class:"flex justify-between"},H={class:"mb-2"},T={class:"px-1 py-1"},X={class:"text-xs text-gray-600"},z={class:"bg-white w-full p-3"},A={key:0,class:"grid grid-cols-2 gap-4"},D={class:"grid grid-cols-2 gap-4"},oe={__name:"Index",props:{raffles:{type:Object,required:!0}},setup(r){const p=[{name:"Home",route:route("dashboard.raffles.index")},{name:"Rifas",route:route("dashboard.raffles.index")}],o=v(!1),l=v(!0),{store:V,update:k,form:e}=j();function N(m){Object.assign(e,m),o.value=!0,l.value=!1}y(()=>e.settings.date,m=>{m&&(e.settings.min=null,e.settings.max=null)});function h(){if(isNaN(e.settings.min)){u.error("Min must be a number");return}if(isNaN(e.settings.max)){u.error("Max must be a number");return}if(isNaN(e.settings.general_limit)){u.error("General Limit must be a number");return}if(isNaN(e.settings.individual_limit)){u.error("Individual Limit must be a number");return}l.value?V(g):k(g)}const g=()=>{e.reset(),o.value=!1,l.value=!0};return(m,s)=>(f(),R(L,{title:"Rifa",breads:p},{header:c(()=>[E,a(S,{onClick:s[0]||(s[0]=t=>o.value=!0)})]),default:c(()=>[n("div",F,[(f(!0),_(C,null,U(r.raffles,t=>(f(),_("div",G,[n("div",q,[n("span",H,b(t.name),1),a(M,null,{default:c(()=>[n("div",T,[a(B,{onClick:J=>N(t),title:"Editar",icon:i(O)},null,8,["onClick","icon"])])]),_:2},1024)]),n("div",X,[n("pre",z,b(t.settings),1)])]))),256))]),a(w,{show:o.value,title:"Rifa",onOnCancel:g,onOnSubmit:h},{default:c(()=>[a(d,{text:"Name",modelValue:i(e).name,"onUpdate:modelValue":s[1]||(s[1]=t=>i(e).name=t)},null,8,["modelValue"]),a(x,{checked:i(e).settings.super_x,"onUpdate:checked":s[2]||(s[2]=t=>i(e).settings.super_x=t),text:"Super X"},null,8,["checked"]),a(x,{checked:i(e).settings.date,"onUpdate:checked":s[3]||(s[3]=t=>i(e).settings.date=t),text:"Date"},null,8,["checked"]),i(e).settings.date?I("",!0):(f(),_("div",A,[a(d,{text:"Min",modelValue:i(e).settings.min,"onUpdate:modelValue":s[4]||(s[4]=t=>i(e).settings.min=t)},null,8,["modelValue"]),a(d,{text:"Max",modelValue:i(e).settings.max,"onUpdate:modelValue":s[5]||(s[5]=t=>i(e).settings.max=t)},null,8,["modelValue"])])),n("div",D,[a(d,{text:"General Limit",modelValue:i(e).settings.general_limit,"onUpdate:modelValue":s[6]||(s[6]=t=>i(e).settings.general_limit=t)},null,8,["modelValue"]),a(d,{text:"Individual Limit",modelValue:i(e).settings.individual_limit,"onUpdate:modelValue":s[7]||(s[7]=t=>i(e).settings.individual_limit=t)},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{oe as default};
