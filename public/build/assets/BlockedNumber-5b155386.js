import{_ as g}from"./InputForm-ceebd1ff.js";import{_ as k}from"./FormModal-028b6377.js";import{_ as x}from"./ClientareaLayout-33cea9ae.js";import{I as h,c as V}from"./helpers-01048222.js";import{t as d}from"./toast-ca83664f.js";import{T as C,h as S,o as r,g as q,e as _,b as s,c as o,F as B,l as N,t as f,a as n,u as i,d as p,O as $}from"./app-0d1166d4.js";import"./IconUser-d74c1992.js";import"./_plugin-vue_export-helper-c27b6911.js";const O=s("span",{class:"title"}," Bloqueados ",-1),w={key:0,class:"w-full text-center text-gray-400"},j={key:1,class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},D={class:"bg-card p-3 rounded-xl text-gray-600"},E={class:"flex justify-between items-center mb-2"},I={class:"text-xl font-bold"},L={class:"grid grid-cols-2 gap-2"},U={key:0},A=s("strong",{class:"text-sm"},"General",-1),F={key:1},T=s("strong",{class:"text-sm"},"Individual",-1),z={class:"grid grid-cols-2 gap-2"},X={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(u){const m=u,t=C({number:null,settings:{general_limit:null,individual_limit:null}}),c=S(!1),v=()=>{if(!t.settings.general_limit&&!t.settings.individual_limit){d.error("Debe ingresar al menos un limite");return}if(m.blockeds.find(a=>a.number==t.number)){d.error("Numero ya bloqueado");return}t.post(route("clientarea.raffles.blocked-numbers.store",m.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b(),d.success("Agregado correctamente")}})},b=()=>{t.reset(),c.value=!1},y=a=>{V({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{$.delete(route("clientarea.raffles.blocked-numbers.destroy",[m.raffle.id,a]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})};return(a,l)=>(r(),q(x,{title:"Bloqueados"},{header:_(()=>[O,s("button",{type:"button",class:"simple-button",onClick:l[0]||(l[0]=e=>c.value=!0)}," Nuevo ")]),default:_(()=>[u.blockeds.length==0?(r(),o("div",w," No hay dígitos bloqueados 😥️ ")):(r(),o("div",j,[(r(!0),o(B,null,N(u.blockeds,e=>(r(),o("div",D,[s("div",E,[s("span",I,f(e.number),1),n(i(h),{class:"text-primary",size:"20",onClick:G=>y(e.id),role:"button"},null,8,["onClick"])]),s("div",L,[e.settings.general_limit?(r(),o("div",U,[A,s("div",null," C$ "+f(e.settings.general_limit),1)])):p("",!0),e.settings.individual_limit?(r(),o("div",F,[T,s("div",null," C$ "+f(e.settings.individual_limit),1)])):p("",!0)])]))),256))])),n(k,{show:c.value,title:"Bloquear",onOnCancel:b,onOnSubmit:v},{default:_(()=>[n(g,{text:"Dígito",modelValue:i(t).number,"onUpdate:modelValue":l[1]||(l[1]=e=>i(t).number=e),type:"number",required:""},null,8,["modelValue"]),s("div",z,[n(g,{text:"Limite individual",modelValue:i(t).settings.individual_limit,"onUpdate:modelValue":l[2]||(l[2]=e=>i(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),n(g,{text:"Limite general",modelValue:i(t).settings.general_limit,"onUpdate:modelValue":l[3]||(l[3]=e=>i(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])])]),_:1},8,["show"])]),_:1}))}};export{X as default};
