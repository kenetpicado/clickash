import{_ as O}from"./AddButton-9515ba0a.js";import{_ as m,a as C}from"./Dropdown-49308a3a.js";import{_ as R}from"./SelectForm-f5c7d4c0.js";import{_ as V}from"./FormModal-5bb182d9.js";import{_ as w}from"./AppLayout-4ab3b931.js";import{I,c as N}from"./helpers-85b5af26.js";import{t as _}from"./toast-58cfedeb.js";import{l as p,o as t,g as h,e as a,b as r,t as v,a as o,c as n,d as q,k as b,u as y,F as g,O as S}from"./app-be0400f8.js";import{_ as B}from"./JsonContent-2b595b95.js";import{I as j}from"./IconDeviceWatch-603f3d20.js";import"./IconUser-2621c65e.js";import"./use-resolve-button-type-17e1e748.js";import"./IconList-69444146.js";import"./IconUsers-8a7495e8.js";const A={class:"title"},D={key:0},E=r("p",{class:"text-center text-gray-400"},"No hay rifas disponibles",-1),F=[E],U={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},H={class:"px-1 py-1"},J=r("option",{selected:"",disabled:"",value:""},"Seleccionar rifa",-1),L=["value"],oe={__name:"Show",props:{user:{type:Object,required:!0},raffles:{type:Object,required:!0},all_raffles:{type:Object,required:!0}},setup(s){const u=s,x=[{name:"Inicio",route:route("dashboard.index")},{name:"Usuarios",route:route("dashboard.users.index")},{name:"Rifas",route:route("dashboard.users.show",u.user.id)}],d=p(!1),i=p(null);function $(c){N({message:"Are you sure you want to delete this raffle?",onConfirm:()=>{S.delete(route("dashboard.users.raffles.destroy",[u.user.id,c]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Raffle deleted successfully")}})}})}function f(){i.value=null,d.value=!1}function k(){S.post(route("dashboard.users.raffles.store",u.user.id),{raffle_id:i.value},{onSuccess:()=>{_.success("Raffle added successfully"),f()}})}return(c,l)=>(t(),h(w,{title:"Rifas",breads:x},{header:a(()=>[r("span",A," Rifas de: "+v(s.user.name),1),o(O,{onClick:l[0]||(l[0]=e=>d.value=!0)})]),default:a(()=>[s.raffles.length==0?(t(),n("div",D,F)):q("",!0),r("div",U,[(t(!0),n(g,null,b(s.raffles,e=>(t(),h(B,{title:e.name,content:JSON.parse(e.pivot.settings)},{default:a(()=>[o(C,null,{default:a(()=>[r("div",H,[o(m,{href:c.route("dashboard.users.raffles.availability.index",[s.user.id,e.id]),title:"Horario",icon:y(j)},null,8,["href","icon"]),o(m,{onClick:M=>$(e.id),title:"Eliminar",icon:y(I)},null,8,["onClick","icon"])])]),_:2},1024)]),_:2},1032,["title","content"]))),256))]),o(V,{show:d.value,title:"Rifas",onOnCancel:f,onOnSubmit:k},{default:a(()=>[o(R,{text:"Rifas disponibles",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),required:""},{default:a(()=>[J,(t(!0),n(g,null,b(s.all_raffles,e=>(t(),n("option",{value:e.id},v(e.name),9,L))),256))]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{oe as default};
