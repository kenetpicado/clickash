import{r as N,T as R,e as j,o as u,c as p,b as a,F as C,f as T,t as x,a as t,g as r,u as e,h as z,i as I,n as c,j as _,d as $,k as M}from"./app-04f6af3f.js";import{_ as A}from"./FormModal-5673000e.js";import{_ as k}from"./InputForm-209c4d57.js";import{_ as E}from"./Checkbox-566bdf69.js";import{t as S}from"./toast-2497f91c.js";import{R as B,h as F,y as h,M as D}from"./menu-11ddffe3.js";import{I as G}from"./IconList-48b11e81.js";import{c as q}from"./createVueComponent-0b9742a1.js";import{I as J}from"./IconDeviceWatch-b73ed490.js";import{I as K}from"./IconSettings-f136e420.js";import{c as P}from"./helpers-4470c4cf.js";import{I as Q}from"./IconEdit-a03bbcce.js";import{I as Y}from"./IconTrash-08d15ccb.js";import{_ as Z}from"./ThePaginator-6f4a247f.js";import{_ as ee}from"./Transaction-7b52e706.js";import{_ as te}from"./StatCard-8413637e.js";import{I as se}from"./IconCurrencyDollar-9cd86af5.js";import{_ as ae}from"./ClientareaLayout-8a65828b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Carbon-e7b34390.js";var X=q("eye-dollar","IconEyeDollar",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M13.193 17.924c-.39 .05 -.788 .076 -1.193 .076c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.005 0 5.592 1.394 7.761 4.181",key:"svg-1"}],["path",{d:"M21 15h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M19 21v1m0 -8v1",key:"svg-3"}]]),le=q("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),re=q("number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]),H=q("report-analytics","IconReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]),ie=q("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);const ne={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},oe={class:"bg-card rounded-xl p-2 w-full"},ue={class:"flex justify-between"},de={class:"px-1 py-1"},ce={class:"px-1 py-1"},me={class:"px-1 py-1"},pe=["onClick"],fe={class:"flex items-center gap-2 mb-3"},ge=a("div",{class:"bg-white rounded-xl"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),ye={class:"flex flex-col gap-1 text-xs text-gray-600"},ve={key:0},xe={key:1},_e={key:2},he={class:"w-full text-center bg-white py-1 rounded-xl text-gray-600 text-xs"},be={key:0},we={key:1},ke={class:"grid grid-cols-2 gap-4"},$e={class:"grid grid-cols-2 gap-4 mb-1"},Ve={key:0,class:"grid grid-cols-2 gap-4"},Ce={__name:"RaffleTab",props:{raffles:{type:Object,required:!0}},setup(o){const d=N(!1),s=R({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});function v(n){s.raffle_name=n.raffle.name,s.raffle_id=n.raffle_id,Object.assign(s.settings,n.settings),d.value=!0}function y(){s.put(route("clientarea.raffles.update",s.raffle_id),{preserveScroll:!0,onSuccess:()=>{i(),S.success("Rifa actualizada")}})}const i=()=>{s.reset(),d.value=!1};return j(()=>s.settings.date,n=>{n&&(s.settings.min=null,s.settings.max=null)}),(n,f)=>(u(),p(C,null,[a("div",ne,[(u(!0),p(C,null,T(o.raffles,l=>(u(),p("div",oe,[a("div",ue,[a("span",null,x(l.raffle.name),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",de,[t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:n.route("clientarea.raffles.winning-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(ie),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Ganadores ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:n.route("clientarea.raffles.blocked-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(re),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Números bloqueados ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",ce,[t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:n.route("clientarea.raffles.show",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:n.route("clientarea.raffles.reports",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(H),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Reportes ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",me,[t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:n.route("clientarea.raffles.availability.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(J),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Horario ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[a("button",{onClick:O=>v(l),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(K),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Configuración ")],10,pe)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",fe,[ge,a("div",ye,[a("span",null,"Super X: "+x(l.settings.super_x?"Activado":"Desactivado"),1),l.settings.general_limit?(u(),p("span",ve," Limite general en venta: C$"+x(l.settings.general_limit),1)):$("",!0),l.settings.individual_limit?(u(),p("span",xe," Limite individual en venta: C$"+x(l.settings.individual_limit),1)):$("",!0),l.settings.multiplier?(u(),p("span",_e," Multiplicador: "+x(l.settings.multiplier),1)):$("",!0)])]),a("div",he,[l.settings.date?(u(),p("span",be," Fecha ")):(u(),p("span",we," Desde "+x(l.settings.min)+" hasta "+x(l.settings.max),1))])]))),256))]),t(A,{show:d.value,title:e(s).raffle_name,onOnCancel:i,onOnSubmit:y},{default:r(()=>[a("div",ke,[t(k,{text:"Limite general C$",modelValue:e(s).settings.general_limit,"onUpdate:modelValue":f[0]||(f[0]=l=>e(s).settings.general_limit=l),type:"number"},null,8,["modelValue"]),t(k,{text:"Limite indiv. C$",modelValue:e(s).settings.individual_limit,"onUpdate:modelValue":f[1]||(f[1]=l=>e(s).settings.individual_limit=l),type:"number"},null,8,["modelValue"])]),a("div",$e,[t(E,{checked:e(s).settings.super_x,"onUpdate:checked":f[2]||(f[2]=l=>e(s).settings.super_x=l),text:"Super X"},null,8,["checked"]),t(E,{checked:e(s).settings.date,"onUpdate:checked":f[3]||(f[3]=l=>e(s).settings.date=l),text:"Fecha"},null,8,["checked"])]),e(s).settings.date?$("",!0):(u(),p("div",Ve,[t(k,{text:"Número inicio",modelValue:e(s).settings.min,"onUpdate:modelValue":f[4]||(f[4]=l=>e(s).settings.min=l),required:"",type:"number"},null,8,["modelValue"]),t(k,{text:"Número final",modelValue:e(s).settings.max,"onUpdate:modelValue":f[5]||(f[5]=l=>e(s).settings.max=l),required:"",type:"number"},null,8,["modelValue"])])),t(k,{text:"Multiplicador",modelValue:e(s).settings.multiplier,"onUpdate:modelValue":f[6]||(f[6]=l=>e(s).settings.multiplier=l),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])],64))}};function Se(){const o=R({id:"",name:"",email:" ",password:"",password_confirmation:""});function d(i=null){if(o.password!==o.password_confirmation){S.error("Las contraseñas no coinciden");return}o.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Guardado correctamente"),i&&i()},onError:n=>{S.error(n.message),i&&i()}})}function s(i=null){o.put(route("clientarea.sellers.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),i&&i()}})}function v(i=null){o.put(route("clientarea.toggle-status",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),i&&i()}})}function y(i){P({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{o.delete(route("clientarea.sellers.destroy",i),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Eliminado correctamente")}})}})}return{form:o,store:d,update:s,destroy:y,toggleStatus:v}}const Ie={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Me={class:"bg-card rounded-xl p-2 w-full"},Ne={class:"flex gap-2 w-full"},qe=a("div",{class:"bg-white rounded-xl w-1/3 px-1"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),Te={class:"text-xs text-gray-600 w-full h-full"},Ue={class:"flex justify-between w-full"},je={class:"text-primary"},Oe={class:"px-1 py-1"},Le={class:"px-1 py-1"},Ee=["onClick"],Re=["onClick"],ze=["onClick"],Ae={class:"flex flex-col"},Be={class:"text-base"},Fe={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(o){const d=o,s=N(!1),v=N(!0),{store:y,update:i,form:n,toggleStatus:f,destroy:l}=Se(),m=b=>{n.id=b,f()},O=()=>{v.value?y(U):i(U)},U=()=>{n.reset(),v.value=!0,s.value=!1},W=b=>{v.value=!1,n.id=b.id,n.name=b.name,n.email=b.email,s.value=!0};return j(()=>d.triggerNew,b=>{v.value=!0,s.value=!0}),(b,V)=>(u(),p(C,null,[a("div",Ie,[(u(!0),p(C,null,T(o.sellers,g=>(u(),p("div",Me,[a("div",Ne,[qe,a("div",Te,[a("div",Ue,[a("span",je,x(g.status=="enabled"?"Activo":"Inactivo"),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",Oe,[t(e(h),null,{default:r(({active:w})=>[t(e(I),{href:b.route("clientarea.sellers.show",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:"mr-2 h-5 w-5 text-primary"}),_(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[t(e(I),{href:b.route("clientarea.sellers.balance",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(H),{class:"mr-2 h-5 w-5 text-primary"}),_(" Caja ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",Le,[t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>m(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(le),{class:"mr-2 h-5 w-5 text-primary"}),_(" Bloquear ")],10,Ee)]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>W(g),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(Q),{class:"mr-2 h-5 w-5 text-primary"}),_(" Editar ")],10,Re)]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>e(l)(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(Y),{class:"mr-2 h-5 w-5 text-primary"}),_(" Eliminar ")],10,ze)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",Ae,[a("span",Be,x(g.name),1),a("span",null,x(g.email),1)])])])]))),256))]),t(A,{show:s.value,title:"Vendedor",onOnCancel:U,onOnSubmit:O},{default:r(()=>[t(k,{text:"Nombre",modelValue:e(n).name,"onUpdate:modelValue":V[0]||(V[0]=g=>e(n).name=g),required:""},null,8,["modelValue"]),t(k,{text:"Correo",modelValue:e(n).email,"onUpdate:modelValue":V[1]||(V[1]=g=>e(n).email=g),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),v.value?(u(),p(C,{key:0},[t(k,{text:"Contraseña",modelValue:e(n).password,"onUpdate:modelValue":V[2]||(V[2]=g=>e(n).password=g),type:"password",required:""},null,8,["modelValue"]),t(k,{text:"Confirmar contraseña",modelValue:e(n).password_confirmation,"onUpdate:modelValue":V[3]||(V[3]=g=>e(n).password_confirmation=g),type:"password",required:""},null,8,["modelValue"])],64)):$("",!0)]),_:1},8,["show"])],64))}},De={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},Ge={key:0,class:"w-full text-center text-gray-400"},Xe={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4"},He={__name:"TransactionTab",props:{transactions:{type:Object,required:!0},dailyTransactions:{type:Number,required:!0}},setup(o){const s=[{title:"Ventas del dia",value:"C$"+o.dailyTransactions.toLocaleString(),icon:se}];return(v,y)=>(u(),p(C,null,[a("div",De,[(u(),p(C,null,T(s,i=>t(te,{stat:i,key:i.title},null,8,["stat"])),64))]),o.transactions.data.length==0?(u(),p("div",Ge," No hay transacciones ")):(u(),p("div",Xe,[(u(!0),p(C,null,T(o.transactions.data,i=>(u(),M(ee,{transaction:i,key:i.id},null,8,["transaction"]))),128))])),t(Z,{links:o.transactions.links},null,8,["links"])],64))}},We={class:"title"},ft={__name:"Index",props:{raffles:{type:Object,required:!0},sellers:{type:Object,required:!0},transactions:{type:Object,required:!0},daily_transactions:{type:Number,required:!0}},setup(o){const d=N(localStorage.getItem("selectedTab")||"raffle"),s=N(!1);return j(()=>d.value,v=>{localStorage.setItem("selectedTab",v)}),(v,y)=>(u(),M(ae,{title:"Inicio"},{options:r(()=>[a("button",{type:"button",class:c(d.value=="raffle"?"active-tab":"inactive-tab"),onClick:y[0]||(y[0]=i=>d.value="raffle")}," Rifas ",2),a("button",{type:"button",class:c(d.value=="seller"?"active-tab":"inactive-tab"),onClick:y[1]||(y[1]=i=>d.value="seller")}," Vendedores ",2),a("button",{type:"button",class:c(d.value=="transaction"?"active-tab":"inactive-tab"),onClick:y[2]||(y[2]=i=>d.value="transaction")}," Transacciones ",2)]),header:r(()=>[a("span",We,x(d.value=="raffle"?"Rifas":d.value=="seller"?"Vendedores":"Transacciones"),1),d.value=="seller"?(u(),p("button",{key:0,onClick:y[3]||(y[3]=i=>s.value=!s.value),type:"button",class:"simple-button"}," Nuevo ")):$("",!0)]),default:r(()=>[d.value=="raffle"?(u(),M(Ce,{key:0,raffles:o.raffles},null,8,["raffles"])):$("",!0),d.value=="seller"?(u(),M(Fe,{key:1,sellers:o.sellers,triggerNew:s.value},null,8,["sellers","triggerNew"])):$("",!0),d.value=="transaction"?(u(),M(He,{key:2,transactions:o.transactions,dailyTransactions:o.daily_transactions},null,8,["transactions","dailyTransactions"])):$("",!0)]),_:1}))}};export{ft as default};
