import{_ as m}from"./InputForm-4bef88d5.js";import{_ as V}from"./FormModal-f587c56e.js";import{_ as S}from"./ClientareaLayout-6ba07821.js";import{c as x}from"./helpers-6533153d.js";import{t as b}from"./toast-b31a6bfb.js";import{T as B,r as _,o as l,k as v,f as d,d as c,t as q,c as f,F as O,l as $,b as o,u as r,O as N}from"./app-0b1a365b.js";import{_ as w,a as C}from"./Error-804c8b4f.js";import"./Modal-87d49a6b.js";import"./DropdownItem-77132e59.js";import"./createVueComponent-cad2a883.js";import"./IconUser-13c14842.js";import"./IconTrash-b41e2d54.js";const E={class:"title"},h={key:0,class:"w-full text-center text-gray-400"},D={key:1,class:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},L={class:"grid grid-cols-2 gap-2"},P={__name:"BlockedNumber",props:{blockeds:{type:Object,required:!0},raffle:{type:Object,required:!0}},setup(a){const g=a,t=B({number:null,settings:{general_limit:null,individual_limit:null}}),n=_(!1),u=_(null),y=()=>{t.post(route("clientarea.raffles.blocked-numbers.store",g.raffle.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p(),b.success("Agregado correctamente")},onError:i=>{u.value=i.message}})},p=()=>{t.reset(),u.value=null,n.value=!1},k=i=>{x({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{N.delete(route("clientarea.raffles.blocked-numbers.destroy",[g.raffle.id,i]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b.success("Eliminado correctamente")}})}})};return(i,s)=>(l(),v(S,{title:"Bloqueados"},{header:d(()=>[c("span",E,q(a.raffle.name)+": Bloqueados ",1),c("button",{type:"button",class:"primary-button",onClick:s[0]||(s[0]=e=>n.value=!0)}," Nuevo ")]),default:d(()=>[a.blockeds.length==0?(l(),f("div",h," No hay dígitos bloqueados 😥️ ")):(l(),f("div",D,[(l(!0),f(O,null,$(a.blockeds,e=>(l(),v(w,{digit:e,key:e.id,onDestroy:k},null,8,["digit"]))),128))])),o(V,{show:n.value,title:"Bloquear",onOnCancel:p,onOnSubmit:y},{default:d(()=>[o(m,{text:"Dígito",modelValue:r(t).number,"onUpdate:modelValue":s[1]||(s[1]=e=>r(t).number=e),required:""},null,8,["modelValue"]),c("div",L,[o(m,{text:"Limite individual",modelValue:r(t).settings.individual_limit,"onUpdate:modelValue":s[2]||(s[2]=e=>r(t).settings.individual_limit=e),type:"number"},null,8,["modelValue"]),o(m,{text:"Limite general",modelValue:r(t).settings.general_limit,"onUpdate:modelValue":s[3]||(s[3]=e=>r(t).settings.general_limit=e),type:"number"},null,8,["modelValue"])]),o(C,{message:u.value},null,8,["message"])]),_:1},8,["show"])]),_:1}))}};export{P as default};
