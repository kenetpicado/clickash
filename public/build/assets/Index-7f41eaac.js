import{O as x,r as b,T as y,o as i,k as v,f as _,d as e,t as l,c as d,b as r,u as s,F as h,w as g}from"./app-ebb00b71.js";import{_ as k}from"./ClientareaLayout-c7280cc0.js";import{_ as u}from"./InputForm-46bdd586.js";import{t as V}from"./toast-bedd3896.js";import{I as C}from"./IconList-e12e9db7.js";import{c as I}from"./IconUser-c68c5906.js";import{I as M}from"./IconUsers-5e9831b1.js";var S=I("record-mail","IconRecordMail",[["path",{d:"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M7 15l10 0",key:"svg-2"}]]);function w(){function o(){x.post(route("logout"))}return{logout:o}}const N=e("span",{class:"title"}," Mi perfil ",-1),q={class:"bg-card p-4 rounded-xl flex flex-col items-center gap-2 mb-4"},B=e("img",{src:"/profile.png",class:"w-20 h-20 object-cover rounded-full",alt:""},null,-1),U={class:"font-bold text-xl"},$={class:"text-sm text-gray-400"},j={class:"flex justify-between items-center mb-4"},A=e("span",null,"Información de la cuenta",-1),E={class:"mb-4"},O={class:"flex items-center gap-4 mb-4"},F={class:"text-gray-400"},P={class:"flex flex-col"},R=e("span",null,"Nombre de la empresa",-1),z={class:"text-gray-400"},D={class:"flex items-center gap-4 mb-4"},G={class:"text-gray-400"},L={class:"flex flex-col"},T=e("span",null,"Correo",-1),H={class:"text-gray-400"},J={class:"flex items-center gap-4 mb-4"},K={class:"text-gray-400"},Q={class:"flex flex-col"},W=e("span",null,"Vendedores",-1),X={class:"text-gray-400"},Y={key:1},Z=["onSubmit"],ee=e("button",{class:"primary-button flex ml-auto mb-6"}," Guardar ",-1),ce={__name:"Index",props:{user:{type:Object,required:!0}},setup(o){const c=o,{logout:p}=w(),m=b(!1),n=y({id:c.user.id,name:c.user.name,email:c.user.email,company_name:c.user.company_name});function f(){n.put(route("clientarea.profile.update",n.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{V.success("Perfil actualizado correctamente")}})}return(te,t)=>(i(),v(k,{title:"Perfil"},{header:_(()=>[N]),default:_(()=>[e("div",q,[B,e("span",U,l(o.user.name),1),e("span",$,l(o.user.role=="owner"?"Administrador":"Vendedor"),1)]),e("div",j,[A,m.value?(i(),d("button",{key:1,onClick:t[1]||(t[1]=a=>m.value=!1),type:"button",class:"simple-button"},"Cancelar")):(i(),d("button",{key:0,onClick:t[0]||(t[0]=a=>m.value=!0),type:"button",class:"simple-button"},"Editar"))]),m.value?(i(),d("div",Y,[e("form",{onSubmit:g(f,["prevent"])},[r(u,{text:"Nombre",modelValue:s(n).name,"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).name=a),required:""},null,8,["modelValue"]),r(u,{text:"Nombre de la empresa",modelValue:s(n).company_name,"onUpdate:modelValue":t[4]||(t[4]=a=>s(n).company_name=a),required:""},null,8,["modelValue"]),r(u,{text:"Correo",modelValue:s(n).email,"onUpdate:modelValue":t[5]||(t[5]=a=>s(n).email=a),type:"email",required:""},null,8,["modelValue"]),ee],40,Z)])):(i(),d(h,{key:0},[e("div",E,[e("div",O,[e("span",F,[r(s(C),{class:"text-primary"})]),e("div",P,[R,e("span",z,l(o.user.company_name??"N/A"),1)])]),e("div",D,[e("span",G,[r(s(S),{class:"text-primary"})]),e("div",L,[T,e("span",H,l(o.user.email),1)])]),e("div",J,[e("span",K,[r(s(M),{class:"text-primary"})]),e("div",Q,[W,e("span",X,l(o.user.sellers_count??0)+" / "+l(o.user.sellers_limit),1)])])]),e("button",{onClick:t[2]||(t[2]=(...a)=>s(p)&&s(p)(...a)),type:"button",class:"flex primary-button mx-auto mb-6"}," Cerrar sesión ")],64))]),_:1}))}};export{ce as default};
