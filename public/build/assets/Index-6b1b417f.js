import{T as E,r as y,j,o as f,c as _,d as o,F as b,l as M,t as x,b as l,f as h,u as t,e as k,k as A}from"./app-5b664324.js";import{t as p}from"./toast-e0c25078.js";import{c as O,I as U}from"./helpers-f36aee11.js";import{_ as L}from"./FormModal-d389d967.js";import{_ as v}from"./InputForm-c10bfa3e.js";import{_ as m,a as T}from"./DropdownItem-25f38af6.js";import{I as z,a as F,b as S}from"./IconReportAnalytics-824bd431.js";import{c as R}from"./IconUser-efff4280.js";import{I as D}from"./IconEdit-1d6046cf.js";import{_ as G}from"./ClientareaLayout-32a3ef82.js";import"./Modal-35e7beb9.js";var H=R("box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]]);function J(){const r=E({id:"",name:"",email:" ",password:"",password_confirmation:""});function c(a=null){if(r.password!==r.password_confirmation){p.error("Las contraseñas no coinciden");return}r.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p.success("Guardado correctamente"),a&&a()},onError:s=>{p.error(s.message)}})}function d(a=null){r.put(route("clientarea.sellers.update",r.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p.success("Actualizado correctamente"),a&&a()}})}function i(a=null){r.put(route("clientarea.toggle-status",r.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p.success("Actualizado correctamente"),a&&a()}})}function g(a){O({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{r.delete(route("clientarea.sellers.destroy",a),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p.success("Eliminado correctamente")}})}})}return{form:r,store:c,update:d,destroy:g,toggleStatus:i}}const K={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},P={class:"bg-gray-100 rounded-lg p-2 w-full"},Q={class:"flex gap-2 w-full"},W=o("div",{class:"rounded-lg w-1/3 px-1"},[o("img",{src:"/images/inbox-pana.svg",alt:"",class:"w-20 h-20 object-contain rounded-lg"})],-1),X={class:"text-xs w-full h-full"},Y={class:"flex justify-between w-full"},Z={class:""},ee={class:"px-1 py-1"},te={class:"px-1 py-1"},se={class:"flex flex-col mb-1"},oe={class:"flex items-center gap-1 mb-1"},re={class:"text-base"},le={key:0,class:"text-xs text-gray-500"},ae={class:"text-gray-500"},ne={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(r){const c=r,d=y(!1),i=y(!0),{store:g,update:a,form:s,toggleStatus:C,destroy:q}=J(),I=n=>{s.id=n,C()},N=()=>{i.value?g(w):a(w)},w=()=>{s.reset(),i.value=!0,d.value=!1},$=n=>{i.value=!1,s.id=n.id,s.name=n.name,s.email=n.email,d.value=!0};j(()=>c.triggerNew,n=>{i.value=!0,d.value=!0});const B={enabled:"Bloquear",disabled:"Desbloquear"};return(n,u)=>(f(),_(b,null,[o("div",K,[(f(!0),_(b,null,M(r.sellers,e=>(f(),_("div",P,[o("div",Q,[W,o("div",X,[o("div",Y,[o("span",Z,x(e.online),1),l(T,null,{default:h(()=>[o("div",ee,[l(m,{href:n.route("clientarea.sellers.show",e.id),title:"Ventas",icon:t(z)},null,8,["href","icon"]),l(m,{href:n.route("clientarea.sellers.archings.index",e.id),title:"Caja",icon:t(H)},null,8,["href","icon"]),l(m,{href:n.route("clientarea.sellers.reports.index",e.id),title:"Reportes",icon:t(F)},null,8,["href","icon"])]),o("div",te,[l(m,{href:n.route("clientarea.sellers.blocked-numbers.index",e.id),title:"Dígitos bloqueados",icon:t(S)},null,8,["href","icon"]),l(m,{onClick:V=>$(e),title:"Editar",icon:t(D)},null,8,["onClick","icon"]),l(m,{onClick:V=>I(e.id),title:B[e.status],icon:t(S)},null,8,["onClick","title","icon"]),l(m,{onClick:V=>t(q)(e.id),title:"Eliminar",icon:t(U)},null,8,["onClick","icon"])])]),_:2},1024)]),o("div",se,[o("span",oe,[o("span",re,x(e.name),1),e.status!="enabled"?(f(),_("span",le," (Bloqueado) ")):k("",!0)]),o("span",ae,x(e.email),1)])])])]))),256))]),l(L,{show:d.value,title:"Vendedor",onOnCancel:w,onOnSubmit:N},{default:h(()=>[l(v,{text:"Nombre",modelValue:t(s).name,"onUpdate:modelValue":u[0]||(u[0]=e=>t(s).name=e),required:""},null,8,["modelValue"]),l(v,{text:"Correo",modelValue:t(s).email,"onUpdate:modelValue":u[1]||(u[1]=e=>t(s).email=e),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),i.value?(f(),_(b,{key:0},[l(v,{text:"Contraseña",modelValue:t(s).password,"onUpdate:modelValue":u[2]||(u[2]=e=>t(s).password=e),type:"password",required:""},null,8,["modelValue"]),l(v,{text:"Confirmar contraseña",modelValue:t(s).password_confirmation,"onUpdate:modelValue":u[3]||(u[3]=e=>t(s).password_confirmation=e),type:"password",required:""},null,8,["modelValue"])],64)):k("",!0)]),_:1},8,["show"])],64))}},ie=o("span",{class:"title"}," Vendedores ",-1),be={__name:"Index",props:{sellers:{type:Object,required:!0}},setup(r){const c=y(!1);return(d,i)=>(f(),A(G,{title:"Vendedores"},{header:h(()=>[ie,o("button",{onClick:i[0]||(i[0]=g=>c.value=!c.value),type:"button",class:"primary-button"}," Nuevo ")]),default:h(()=>[l(ne,{sellers:r.sellers,triggerNew:c.value},null,8,["sellers","triggerNew"])]),_:1}))}};export{be as default};
