import{_ as N}from"./AddButton-0771c4c7.js";import{_ as f}from"./InputForm-3c597ec4.js";import{_ as $}from"./FormModal-3577dbb1.js";import{T as q,r as y,o as m,e as z,f as u,a as n,c as _,h as A,F as S,d as k,u as s,b as e,k as T,t as V,i as B}from"./app-f1f7eb69.js";import{t as d}from"./toast-395c8648.js";import{c as O}from"./helpers-93ecc6bd.js";import{_ as U}from"./AppLayout-532d2779.js";import{T as j}from"./TableSection-45687886.js";import{I as F}from"./IconCurrencyDollar-c085a685.js";import{I as L}from"./IconEdit-1554f951.js";import{I as G}from"./IconTrash-210bf6fd.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./createVueComponent-0dd4f36a.js";import"./IconChevronRight-eec1049b.js";function M(){const a=q({id:"",name:"",email:"",password:"",password_confirmation:""});function h(r=null){if(a.password!==a.password_confirmation){d.error("Las contraseñas no coinciden");return}a.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Guardado correctamente"),r&&r()},onError:i=>{d.error(i.message),r&&r()}})}function g(r=null){a.put(route("clientarea.sellers.update",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Actualizado correctamente"),r&&r()}})}function o(r=null){a.put(route("clientarea.toggle-status",a.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Actualizado correctamente"),r&&r()}})}function v(r){O({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{a.delete(route("clientarea.sellers.destroy",r),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d.success("Eliminado correctamente")}})}})}return{form:a,store:h,update:g,destroy:v,toggleStatus:o}}const H=e("span",{class:"title"}," Vendedores ",-1),J=e("th",null,"Nombre",-1),K=e("th",null,"Actividad",-1),P=e("th",null,"Estado",-1),Q=e("th",null,"Acciones",-1),R={class:"text-gray-400"},W={class:"whitespace-nowrap"},X={class:"relative inline-flex items-center cursor-pointer"},Y=["checked","onChange"],Z=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:indigo-4 peer-focus:indigo-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-gray-800"},null,-1),D={class:"flex items-center gap-3"},ee=["onClick"],te=["onClick"],re={key:0},oe=e("td",{colspan:"4",class:"text-center"},"No hay datos",-1),se=[oe],be={__name:"Index",props:{sellers:{type:Object,required:!0}},setup(a){const{store:h,update:g,form:o,toggleStatus:v,destroy:r}=M(),i=y(!0),x=[{name:"Inicio",route:route("clientarea.index")},{name:"Vendedores",route:route("clientarea.sellers.index")}],p=y(!1);function C(){i.value?h(b):g(b)}const b=()=>{o.reset(),p.value=!1,i.value=!0};function E(c){i.value=!1,Object.assign(o,c),p.value=!0}function I(c){o.id=c,v()}return(c,l)=>(m(),z(U,{title:"Vendedores",breads:x},{header:u(()=>[H,n(N,{onClick:l[0]||(l[0]=t=>p.value=!0)})]),default:u(()=>[n(j,null,{header:u(()=>[J,K,P,Q]),body:u(()=>[(m(!0),_(S,null,A(a.sellers,t=>(m(),_("tr",null,[e("td",null,[T(V(t.name)+" ",1),e("div",R,V(t.email),1)]),e("td",null,[e("span",W,V(t.online),1)]),e("td",null,[e("label",X,[e("input",{type:"checkbox",class:"sr-only peer",checked:t.status=="enabled",onChange:w=>I(t.id)},null,40,Y),Z])]),e("td",null,[e("div",D,[n(s(B),{href:c.route("clientarea.sellers.show",t.id),tooltip:"Ventas"},{default:u(()=>[n(s(F),{size:"22"})]),_:2},1032,["href"]),e("span",{tooltip:"Editar",role:"button",onClick:w=>E(t)},[n(s(L),{size:"22"})],8,ee),e("span",{tooltip:"Eliminar",role:"button",onClick:w=>s(r)(t.id)},[n(s(G),{size:"22"})],8,te)])])]))),256)),a.sellers.length==0?(m(),_("tr",re,se)):k("",!0)]),_:1}),n($,{show:p.value,title:"Vendedor",onOnCancel:b,onOnSubmit:C},{default:u(()=>[n(f,{text:"Nombre",modelValue:s(o).name,"onUpdate:modelValue":l[1]||(l[1]=t=>s(o).name=t),required:""},null,8,["modelValue"]),n(f,{text:"Correo",modelValue:s(o).email,"onUpdate:modelValue":l[2]||(l[2]=t=>s(o).email=t),type:"email",required:""},null,8,["modelValue"]),i.value?(m(),_(S,{key:0},[n(f,{text:"Contraseña",modelValue:s(o).password,"onUpdate:modelValue":l[3]||(l[3]=t=>s(o).password=t),type:"password",required:""},null,8,["modelValue"]),n(f,{text:"Confirmar contraseña",modelValue:s(o).password_confirmation,"onUpdate:modelValue":l[4]||(l[4]=t=>s(o).password_confirmation=t),type:"password",required:""},null,8,["modelValue"])],64)):k("",!0)]),_:1},8,["show"])]),_:1}))}};export{be as default};
