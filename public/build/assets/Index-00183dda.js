import{O as x,l as b,T as y,o as i,j as v,e as _,b as e,t as n,c as d,a as r,u as s,F as h,w as g}from"./app-55ea9aed.js";import{_ as V}from"./ClientareaLayout-04239ab3.js";import{_ as u}from"./InputForm-698f3696.js";import{t as k}from"./toast-fb57b6aa.js";import{I as C}from"./IconList-b8261a3d.js";import{c as I}from"./IconUser-08d091a0.js";import{I as M}from"./IconUsers-cf9c3c8a.js";var S=I("record-mail","IconRecordMail",[["path",{d:"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M7 15l10 0",key:"svg-2"}]]);function w(){function o(){x.post(route("logout"))}return{logout:o}}const N=e("span",{class:"title"}," Mi perfil ",-1),j={class:"bg-card p-4 rounded-xl flex flex-col items-center gap-2 mb-4"},q=e("img",{src:"/profile.png",class:"w-20 h-20 object-cover rounded-full",alt:""},null,-1),B={class:"font-bold text-xl"},U={class:"text-sm text-gray-400"},$={class:"flex justify-between items-center mb-4"},A=e("span",null,"Información de la cuenta",-1),E={class:"mb-4"},O={class:"flex items-center gap-4 mb-4"},F={class:"text-gray-400"},P={class:"flex flex-col"},R=e("span",null,"Nombre de la empresa",-1),z={class:"text-gray-400"},D={class:"flex items-center gap-4 mb-4"},G={class:"text-gray-400"},L={class:"flex flex-col"},T=e("span",null,"Correo",-1),H={class:"text-gray-400"},J={class:"flex items-center gap-4 mb-4"},K={class:"text-gray-400"},Q={class:"flex flex-col"},W=e("span",null,"Vendedores",-1),X={class:"text-gray-400"},Y={key:1},Z=["onSubmit"],ee=e("button",{class:"primary-button flex ml-auto mb-6"}," Guardar ",-1),ce={__name:"Index",props:{user:{type:Object,required:!0}},setup(o){const c=o,{logout:p}=w(),m=b(!1),l=y({id:c.user.id,name:c.user.name,email:c.user.email,company_name:c.user.company_name});function f(){l.put(route("profile.update",l.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{k.success("Perfil actualizado correctamente")}})}return(te,t)=>(i(),v(V,{title:"Perfil"},{header:_(()=>[N]),default:_(()=>[e("div",j,[q,e("span",B,n(o.user.name),1),e("span",U,n(o.user.role=="owner"?"Administrador":"Vendedor"),1)]),e("div",$,[A,m.value?(i(),d("button",{key:1,onClick:t[1]||(t[1]=a=>m.value=!1),type:"button",class:"simple-button"},"Cancelar")):(i(),d("button",{key:0,onClick:t[0]||(t[0]=a=>m.value=!0),type:"button",class:"simple-button"},"Editar"))]),m.value?(i(),d("div",Y,[e("form",{onSubmit:g(f,["prevent"])},[r(u,{text:"Nombre",modelValue:s(l).name,"onUpdate:modelValue":t[3]||(t[3]=a=>s(l).name=a),required:""},null,8,["modelValue"]),r(u,{text:"Nombre de la empresa",modelValue:s(l).company_name,"onUpdate:modelValue":t[4]||(t[4]=a=>s(l).company_name=a),required:""},null,8,["modelValue"]),r(u,{text:"Correo",modelValue:s(l).email,"onUpdate:modelValue":t[5]||(t[5]=a=>s(l).email=a),type:"email",required:""},null,8,["modelValue"]),ee],40,Z)])):(i(),d(h,{key:0},[e("div",E,[e("div",O,[e("span",F,[r(s(C),{class:"text-primary"})]),e("div",P,[R,e("span",z,n(o.user.company_name??"N/A"),1)])]),e("div",D,[e("span",G,[r(s(S),{class:"text-primary"})]),e("div",L,[T,e("span",H,n(o.user.email),1)])]),e("div",J,[e("span",K,[r(s(M),{class:"text-primary"})]),e("div",Q,[W,e("span",X,n(o.user.sellers_count??0)+" / "+n(o.user.sellers_limit),1)])])]),e("button",{onClick:t[2]||(t[2]=(...a)=>s(p)&&s(p)(...a)),type:"button",class:"flex primary-button mx-auto mb-6"}," Cerrar sesión ")],64))]),_:1}))}};export{ce as default};
