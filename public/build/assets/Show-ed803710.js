import{T as k}from"./TableSection-75fc069c.js";import{_ as V}from"./AppLayout-7786c86a.js";import{c as $}from"./helpers-9feada8d.js";import{t as S}from"./toast-a239a205.js";import{r as b,e as I,o as s,k as m,g as n,b as e,t as o,d,n as x,c as l,f as v,F as p,a as y,O as C,u as R}from"./app-0f5d0684.js";import{_ as T}from"./AddButton-1bb4bdaf.js";import{_ as q}from"./FormModal-22a0b3fc.js";import{_ as D}from"./SelectForm-13967ed9.js";import{I as j}from"./IconTrash-662f0455.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconUsers-73c793db.js";import"./createVueComponent-32bd6799.js";const A={class:"title"},B={class:"flex gap-3 overflow-x-auto hide-scrollbar mb-4"},U=e("th",null,"ID",-1),E=e("th",null,"Nombre",-1),F=e("th",null,"Email",-1),z=e("th",null,"Active",-1),H=e("th",null,"Status",-1),J={class:"hover:bg-gray-50"},L={key:0,class:"badge-primary"},M={key:1},G={class:"uppercase"},K={key:0},P=e("td",{colspan:"4",class:"text-center"},"No data to display",-1),Q=[P],W=e("th",null,"ID",-1),X=e("th",null,"Nombre",-1),Y=e("th",null,"Settings",-1),Z=e("th",null,"Acciones",-1),ee={class:"hover:bg-gray-50"},te={key:0},se=e("td",{colspan:"4",class:"text-center"},"No data to display",-1),oe=[se],le=e("option",{selected:"",disabled:"",value:""},"Select Raffle",-1),ae=["value"],ye={__name:"Show",props:{user:{type:Object,required:!0},sellers:{type:Object,required:!0},raffles:{type:Object,required:!0},all_raffles:{type:Object,required:!0}},setup(u){const i=u,w=[{name:"Home",route:route("dashboard.users.index")},{name:"Users",route:route("dashboard.users.index")},{name:i.user.name,route:route("dashboard.users.show",i.user.id)}],a=b(parseInt(localStorage.getItem("selectedDashboardTab"))??0),_=b(!1),c=b(null);function N(f){$({message:"Are you sure you want to delete this raffle?",onConfirm:()=>{C.delete(route("dashboard.users.raffles.destroy",[i.user.id,f]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Raffle deleted successfully")}})}})}function g(){c.value=null,_.value=!1}function O(){C.post(route("dashboard.users.raffles.store",i.user.id),{raffle_id:c.value},{onSuccess:()=>{S.success("Raffle added successfully"),g()}})}return I(()=>a.value,f=>{localStorage.setItem("selectedDashboardTab",f)}),(f,r)=>(s(),m(V,{title:"Users",breads:w},{header:n(()=>[e("span",A,o(u.user.name),1),a.value==1?(s(),m(T,{key:0,onClick:r[0]||(r[0]=t=>_.value=!0)})):d("",!0)]),default:n(()=>[e("div",B,[e("div",{class:x(a.value==0?"active-tab":"inactive-tab"),onClick:r[1]||(r[1]=t=>a.value=0),role:"button"}," Vendedores ",2),e("div",{class:x(a.value==1?"active-tab":"inactive-tab"),onClick:r[2]||(r[2]=t=>a.value=1),role:"button"}," Rifas ",2)]),a.value==0?(s(),m(k,{key:0},{header:n(()=>[U,E,F,z,H]),body:n(()=>[(s(!0),l(p,null,v(u.sellers,(t,h)=>(s(),l("tr",J,[e("td",null,o(h+1),1),e("td",null,o(t.name),1),e("td",null,o(t.email),1),e("td",null,[t.online=="Now"?(s(),l("span",L,o(t.online),1)):(s(),l("span",M,o(t.online),1))]),e("td",null,[e("span",G,o(t.status),1)])]))),256)),u.sellers.length==0?(s(),l("tr",K,Q)):d("",!0)]),_:1})):d("",!0),a.value==1?(s(),m(k,{key:1},{header:n(()=>[W,X,Y,Z]),body:n(()=>[(s(!0),l(p,null,v(u.raffles,(t,h)=>(s(),l("tr",ee,[e("td",null,o(h+1),1),e("td",null,o(t.name),1),e("td",null,[e("pre",null,o(JSON.parse(t.pivot.settings)),1)]),e("td",null,[y(R(j),{role:"button",onClick:re=>N(t.id)},null,8,["onClick"])])]))),256)),u.raffles.length==0?(s(),l("tr",te,oe)):d("",!0)]),_:1})):d("",!0),y(q,{show:_.value,title:"Raffles",onOnCancel:g,onOnSubmit:O},{default:n(()=>[y(D,{text:"Raffle",modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=t=>c.value=t),required:""},{default:n(()=>[le,(s(!0),l(p,null,v(u.all_raffles,t=>(s(),l("option",{value:t.id},o(t.name),9,ae))),256))]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{ye as default};
