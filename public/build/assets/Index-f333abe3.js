import{r as N,T as R,e as j,o as u,c as p,b as a,F as C,f as T,t as x,a as t,g as r,u as e,h as z,i as I,n as c,j as _,d as $,k as M}from"./app-5a1c8b3e.js";import{_ as A}from"./FormModal-578f1fd3.js";import{_ as k}from"./InputForm-7d88ca6a.js";import{_ as E}from"./Checkbox-c8dc1ef9.js";import{t as S}from"./toast-ce812ad7.js";import{R as B,h as F,y as h,I as J,M as D}from"./IconSettings-3e5d8cf0.js";import{I as G}from"./IconList-d7f8d95e.js";import{c as q}from"./createVueComponent-d6d00449.js";import{I as K}from"./IconDeviceWatch-e58edf80.js";import{c as P}from"./helpers-9d6b9840.js";import{I as Q}from"./IconEdit-49375faa.js";import{I as Y}from"./IconTrash-a85cadc6.js";import{_ as Z}from"./ThePaginator-de5ce0df.js";import{_ as ee}from"./Transaction-1e221137.js";import{_ as te}from"./StatCard-71b3c1b1.js";import{I as se}from"./IconCurrencyDollar-f8083fdc.js";import{_ as ae}from"./ClientareaLayout-ce97ec01.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Carbon-e7b34390.js";var X=q("eye-dollar","IconEyeDollar",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M13.193 17.924c-.39 .05 -.788 .076 -1.193 .076c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.005 0 5.592 1.394 7.761 4.181",key:"svg-1"}],["path",{d:"M21 15h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M19 21v1m0 -8v1",key:"svg-3"}]]),le=q("lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]),re=q("number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]),H=q("report-analytics","IconReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]),ne=q("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);const ie={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},oe={class:"bg-card rounded-xl p-2 w-full"},ue={class:"flex justify-between"},de={class:"px-1 py-1"},ce={class:"px-1 py-1"},me=["onClick"],pe={class:"flex items-center gap-2 mb-3"},fe=a("div",{class:"bg-white rounded-xl"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),ge={class:"flex flex-col gap-1 text-xs text-gray-600"},ye={key:0},ve={key:1},xe={key:2},_e={class:"w-full text-center bg-white py-1 rounded-xl text-gray-600 text-xs"},he={key:0},be={key:1},we={class:"grid grid-cols-2 gap-4"},ke={class:"grid grid-cols-2 gap-4 mb-1"},$e={key:0,class:"grid grid-cols-2 gap-4"},Ve={__name:"RaffleTab",props:{raffles:{type:Object,required:!0}},setup(o){const d=N(!1),s=R({raffle_name:null,raffle_id:null,settings:{super_x:!0,date:!1,min:null,max:null,general_limit:null,individual_limit:null,multiplier:70}});function v(i){s.raffle_name=i.raffle.name,s.raffle_id=i.raffle_id,Object.assign(s.settings,i.settings),d.value=!0}function y(){s.put(route("clientarea.raffles.update",s.raffle_id),{preserveScroll:!0,onSuccess:()=>{n(),S.success("Rifa actualizada")}})}const n=()=>{s.reset(),d.value=!1};return j(()=>s.settings.date,i=>{i&&(s.settings.min=null,s.settings.max=null)}),(i,f)=>(u(),p(C,null,[a("div",ie,[(u(!0),p(C,null,T(o.raffles,l=>(u(),p("div",oe,[a("div",ue,[a("span",null,x(l.raffle.name),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",de,[t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:i.route("clientarea.raffles.show",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:i.route("clientarea.raffles.winning-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(ne),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Ganadores ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:i.route("clientarea.raffles.reports",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(H),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Reportes ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",ce,[t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:i.route("clientarea.raffles.blocked-numbers.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(re),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Dígitos bloqueados ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[t(e(I),{href:i.route("clientarea.raffles.availability.index",l.raffle_id),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(K),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Horario ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:m})=>[a("button",{onClick:O=>v(l),class:c([m?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(J),{class:c([m?"text-white":"","mr-2 h-5 w-5 text-primary"])},null,8,["class"]),_(" Configuración ")],10,me)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",pe,[fe,a("div",ge,[a("span",null,"Super X: "+x(l.settings.super_x?"Activado":"Desactivado"),1),l.settings.general_limit?(u(),p("span",ye," Limite general en venta: C$"+x(l.settings.general_limit),1)):$("",!0),l.settings.individual_limit?(u(),p("span",ve," Limite individual en venta: C$"+x(l.settings.individual_limit),1)):$("",!0),l.settings.multiplier?(u(),p("span",xe," Multiplicador: "+x(l.settings.multiplier),1)):$("",!0)])]),a("div",_e,[l.settings.date?(u(),p("span",he," Fecha ")):(u(),p("span",be," Desde "+x(l.settings.min)+" hasta "+x(l.settings.max),1))])]))),256))]),t(A,{show:d.value,title:e(s).raffle_name,onOnCancel:n,onOnSubmit:y},{default:r(()=>[a("div",we,[t(k,{text:"Limite general C$",modelValue:e(s).settings.general_limit,"onUpdate:modelValue":f[0]||(f[0]=l=>e(s).settings.general_limit=l),type:"number"},null,8,["modelValue"]),t(k,{text:"Limite indiv. C$",modelValue:e(s).settings.individual_limit,"onUpdate:modelValue":f[1]||(f[1]=l=>e(s).settings.individual_limit=l),type:"number"},null,8,["modelValue"])]),a("div",ke,[t(E,{checked:e(s).settings.super_x,"onUpdate:checked":f[2]||(f[2]=l=>e(s).settings.super_x=l),text:"Super X"},null,8,["checked"]),t(E,{checked:e(s).settings.date,"onUpdate:checked":f[3]||(f[3]=l=>e(s).settings.date=l),text:"Fecha"},null,8,["checked"])]),e(s).settings.date?$("",!0):(u(),p("div",$e,[t(k,{text:"Número inicio",modelValue:e(s).settings.min,"onUpdate:modelValue":f[4]||(f[4]=l=>e(s).settings.min=l),required:"",type:"number"},null,8,["modelValue"]),t(k,{text:"Número final",modelValue:e(s).settings.max,"onUpdate:modelValue":f[5]||(f[5]=l=>e(s).settings.max=l),required:"",type:"number"},null,8,["modelValue"])])),t(k,{text:"Multiplicador",modelValue:e(s).settings.multiplier,"onUpdate:modelValue":f[6]||(f[6]=l=>e(s).settings.multiplier=l),type:"number",required:""},null,8,["modelValue"])]),_:1},8,["show","title"])],64))}};function Ce(){const o=R({id:"",name:"",email:" ",password:"",password_confirmation:""});function d(n=null){if(o.password!==o.password_confirmation){S.error("Las contraseñas no coinciden");return}o.post(route("clientarea.sellers.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Guardado correctamente"),n&&n()},onError:i=>{S.error(i.message),n&&n()}})}function s(n=null){o.put(route("clientarea.sellers.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),n&&n()}})}function v(n=null){o.put(route("clientarea.toggle-status",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Actualizado correctamente"),n&&n()}})}function y(n){P({message:"¿Está seguro de eliminar este registro?",onConfirm:()=>{o.delete(route("clientarea.sellers.destroy",n),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.success("Eliminado correctamente")}})}})}return{form:o,store:d,update:s,destroy:y,toggleStatus:v}}const Se={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ie={class:"bg-card rounded-xl p-2 w-full"},Me={class:"flex gap-2 w-full"},Ne=a("div",{class:"bg-white rounded-xl w-1/3 px-1"},[a("img",{src:"/games.png",alt:"",class:"w-20 h-20"})],-1),qe={class:"text-xs text-gray-600 w-full h-full"},Te={class:"flex justify-between w-full"},Ue={class:"text-primary"},je={class:"px-1 py-1"},Oe={class:"px-1 py-1"},Le=["onClick"],Ee=["onClick"],Re=["onClick"],ze={class:"flex flex-col"},Ae={class:"text-base"},Be={__name:"SellerTab",props:{sellers:{type:Object,required:!0},triggerNew:{type:Boolean,required:!0}},setup(o){const d=o,s=N(!1),v=N(!0),{store:y,update:n,form:i,toggleStatus:f,destroy:l}=Ce(),m=b=>{i.id=b,f()},O=()=>{v.value?y(U):n(U)},U=()=>{i.reset(),v.value=!0,s.value=!1},W=b=>{v.value=!1,i.id=b.id,i.name=b.name,i.email=b.email,s.value=!0};return j(()=>d.triggerNew,b=>{v.value=!0,s.value=!0}),(b,V)=>(u(),p(C,null,[a("div",Se,[(u(!0),p(C,null,T(o.sellers,g=>(u(),p("div",Ie,[a("div",Me,[Ne,a("div",qe,[a("div",Te,[a("span",Ue,x(g.status=="enabled"?"Activo":"Inactivo"),1),t(e(D),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(G),{class:"text-primary"})]),_:1}),t(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[t(e(F),{class:"absolute z-10 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[a("div",je,[t(e(h),null,{default:r(({active:w})=>[t(e(I),{href:b.route("clientarea.sellers.show",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(X),{class:"mr-2 h-5 w-5 text-primary"}),_(" Ventas ")]),_:2},1032,["href","class"])]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[t(e(I),{href:b.route("clientarea.sellers.balance",g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},{default:r(()=>[t(e(H),{class:"mr-2 h-5 w-5 text-primary"}),_(" Caja ")]),_:2},1032,["href","class"])]),_:2},1024)]),a("div",Oe,[t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>W(g),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(Q),{class:"mr-2 h-5 w-5 text-primary"}),_(" Editar ")],10,Le)]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>m(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(le),{class:"mr-2 h-5 w-5 text-primary"}),_(" Bloquear ")],10,Ee)]),_:2},1024),t(e(h),null,{default:r(({active:w})=>[a("button",{onClick:L=>e(l)(g.id),class:c([w?"bg-primary text-white":"text-gray-800","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[t(e(Y),{class:"mr-2 h-5 w-5 text-primary"}),_(" Eliminar ")],10,Re)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("div",ze,[a("span",Ae,x(g.name),1),a("span",null,x(g.email),1)])])])]))),256))]),t(A,{show:s.value,title:"Vendedor",onOnCancel:U,onOnSubmit:O},{default:r(()=>[t(k,{text:"Nombre",modelValue:e(i).name,"onUpdate:modelValue":V[0]||(V[0]=g=>e(i).name=g),required:""},null,8,["modelValue"]),t(k,{text:"Correo",modelValue:e(i).email,"onUpdate:modelValue":V[1]||(V[1]=g=>e(i).email=g),type:"email",required:"",autocomple:"nope"},null,8,["modelValue"]),v.value?(u(),p(C,{key:0},[t(k,{text:"Contraseña",modelValue:e(i).password,"onUpdate:modelValue":V[2]||(V[2]=g=>e(i).password=g),type:"password",required:""},null,8,["modelValue"]),t(k,{text:"Confirmar contraseña",modelValue:e(i).password_confirmation,"onUpdate:modelValue":V[3]||(V[3]=g=>e(i).password_confirmation=g),type:"password",required:""},null,8,["modelValue"])],64)):$("",!0)]),_:1},8,["show"])],64))}},Fe={class:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4"},De={key:0,class:"w-full text-center text-gray-400"},Ge={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4"},Xe={__name:"TransactionTab",props:{transactions:{type:Object,required:!0},dailyTransactions:{type:Number,required:!0}},setup(o){const s=[{title:"Ventas del dia",value:"C$"+o.dailyTransactions.toLocaleString(),icon:se}];return(v,y)=>(u(),p(C,null,[a("div",Fe,[(u(),p(C,null,T(s,n=>t(te,{stat:n,key:n.title},null,8,["stat"])),64))]),o.transactions.data.length==0?(u(),p("div",De," No hay transacciones ")):(u(),p("div",Ge,[(u(!0),p(C,null,T(o.transactions.data,n=>(u(),M(ee,{transaction:n,key:n.id},null,8,["transaction"]))),128))])),t(Z,{links:o.transactions.links},null,8,["links"])],64))}},He={class:"title"},mt={__name:"Index",props:{raffles:{type:Object,required:!0},sellers:{type:Object,required:!0},transactions:{type:Object,required:!0},daily_transactions:{type:Number,required:!0}},setup(o){const d=N(localStorage.getItem("selectedTab")||"raffle"),s=N(!1);return j(()=>d.value,v=>{localStorage.setItem("selectedTab",v)}),(v,y)=>(u(),M(ae,{title:"Inicio"},{options:r(()=>[a("button",{type:"button",class:c(d.value=="raffle"?"active-tab":"inactive-tab"),onClick:y[0]||(y[0]=n=>d.value="raffle")}," Rifas ",2),a("button",{type:"button",class:c(d.value=="seller"?"active-tab":"inactive-tab"),onClick:y[1]||(y[1]=n=>d.value="seller")}," Vendedores ",2),a("button",{type:"button",class:c(d.value=="transaction"?"active-tab":"inactive-tab"),onClick:y[2]||(y[2]=n=>d.value="transaction")}," Transacciones ",2)]),header:r(()=>[a("span",He,x(d.value=="raffle"?"Rifas":d.value=="seller"?"Vendedores":"Transacciones"),1),d.value=="seller"?(u(),p("button",{key:0,onClick:y[3]||(y[3]=n=>s.value=!s.value),type:"button",class:"simple-button"}," Nuevo ")):$("",!0)]),default:r(()=>[d.value=="raffle"?(u(),M(Ve,{key:0,raffles:o.raffles},null,8,["raffles"])):$("",!0),d.value=="seller"?(u(),M(Be,{key:1,sellers:o.sellers,triggerNew:s.value},null,8,["sellers","triggerNew"])):$("",!0),d.value=="transaction"?(u(),M(Xe,{key:2,transactions:o.transactions,dailyTransactions:o.daily_transactions},null,8,["transactions","dailyTransactions"])):$("",!0)]),_:1}))}};export{mt as default};
