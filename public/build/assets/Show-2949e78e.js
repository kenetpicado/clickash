import{_ as w}from"./AddButton-939c5bbd.js";import{_ as m,a as C}from"./DropdownItem-1e7b7c45.js";import{_ as R}from"./SelectForm-aee99c24.js";import{_ as V}from"./JsonContent-1f752464.js";import{_ as O}from"./FormModal-d7bcb5ee.js";import{_ as I}from"./AppLayout-0ca7448c.js";import{c as B}from"./helpers-564927d4.js";import{t as _}from"./toast-075e93c3.js";import{r as p,o as t,k as h,f as o,d as r,t as v,b as a,c as l,e as N,l as b,u as y,F as g,O as x}from"./app-60cbfc26.js";import{I as q}from"./IconDeviceWatch-21e8fe5e.js";import{I as j}from"./IconTrash-5d3cbf11.js";import"./createVueComponent-d6994ea6.js";import"./Modal-1812b55d.js";import"./IconUsers-36ae5f56.js";import"./IconUser-0f1bb506.js";const A={class:"title"},D={key:0},E=r("p",{class:"text-center text-gray-400"},"No hay rifas disponibles",-1),F=[E],U={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},H={class:"px-1 py-1"},L=r("option",{selected:"",disabled:"",value:""},"Seleccionar rifa",-1),M=["value"],re={__name:"Show",props:{user:{type:Object,required:!0},raffles:{type:Object,required:!0}},setup(s){const c=s,S=[{name:"Inicio",route:route("dashboard.index")},{name:"Usuarios",route:route("dashboard.users.index")},{name:"Rifas",route:window.location.href}],u=p(!1),i=p(null);function $(d){B({message:"Are you sure you want to delete this raffle?",onConfirm:()=>{x.delete(route("dashboard.users.raffles.destroy",[c.user.id,d]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_.success("Raffle deleted successfully")}})}})}function f(){i.value=null,u.value=!1}function k(){x.post(route("dashboard.users.raffles.store",c.user.id),{raffle_id:i.value},{onSuccess:()=>{_.success("Raffle added successfully"),f()}})}return(d,n)=>(t(),h(I,{title:"Rifas",breads:S},{header:o(()=>[r("span",A," Rifas de: "+v(s.user.name),1),a(w,{onClick:n[0]||(n[0]=e=>u.value=!0)})]),default:o(()=>[s.user.raffles.length==0?(t(),l("div",D,F)):N("",!0),r("div",U,[(t(!0),l(g,null,b(s.user.raffles,e=>(t(),h(V,{title:e.name,content:e.settings},{default:o(()=>[a(C,null,{default:o(()=>[r("div",H,[a(m,{href:d.route("dashboard.users.raffles.availability.index",[s.user.id,e.id]),title:"Horario",icon:y(q)},null,8,["href","icon"]),a(m,{onClick:T=>$(e.id),title:"Eliminar",icon:y(j)},null,8,["onClick","icon"])])]),_:2},1024)]),_:2},1032,["title","content"]))),256))]),a(O,{show:u.value,title:"Rifas",onOnCancel:f,onOnSubmit:k},{default:o(()=>[a(R,{text:"Rifas disponibles",modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=e=>i.value=e),required:""},{default:o(()=>[L,(t(!0),l(g,null,b(s.raffles,e=>(t(),l("option",{value:e.id},v(e.name),9,M))),256))]),_:1},8,["modelValue"])]),_:1},8,["show"])]),_:1}))}};export{re as default};
